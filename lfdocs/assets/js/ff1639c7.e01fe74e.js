"use strict";(globalThis.webpackChunkdocusaurus_classic_typescript=globalThis.webpackChunkdocusaurus_classic_typescript||[]).push([[40724],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var t=i(96540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}},33808:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/new_runlfc_config-631f01bc1f2bfb3845c370414ab10f60.png"},49149:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/gradle_import-ad32062cb81ecf15e13295df58c65cc8.png"},53498:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/run_config_lf_program-820c444cc6b9d543c24674f3bec5701d.png"},66401:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/run_config_language_server-fbf4314e19e07a335e9a064f5af74801.png"},66516:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/expand_gradle_tab-145cc706fbdcd8215e691db670fb27b2.png"},69806:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/debugger_screen-1cd17709958a842c27463c19a6a4360f.png"},72778:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/trust_gradle_project-10672eced03fa4a5a819e4e1af43ee86.png"},73435:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/run_debug_buttons-079b40b4f7588b9af99fe41f6e328884.png"},97262:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var t=i(74848),r=i(28453);const s={title:"Developer IntelliJ Setup",description:"Developer IntelliJ Setup."},o=void 0,a={id:"developer/developer-intellij-setup",title:"Developer IntelliJ Setup",description:"Developer IntelliJ Setup.",source:"@site/versioned_docs/version-0.9.0/developer/developer-intellij-setup.mdx",sourceDirName:"developer",slug:"/developer/developer-intellij-setup",permalink:"/docs/0.9.0/developer/developer-intellij-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/lf-lang/lf-lang.github.io/tree/master/versioned_docs/version-0.9.0/developer/developer-intellij-setup.mdx",tags:[],version:"0.9.0",frontMatter:{title:"Developer IntelliJ Setup",description:"Developer IntelliJ Setup."},sidebar:"handbookSidebar",previous:{title:"Developer Eclipse Setup",permalink:"/docs/0.9.0/developer/developer-eclipse-setup-with-oomph"},next:{title:"Building from Source Code",permalink:"/docs/0.9.0/developer/downloading-and-building"}},l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Cloning lingua-franca repository",id:"cloning-lingua-franca-repository",level:2},{value:"Opening lingua-franca as IntelliJ Project",id:"opening-lingua-franca-as-intellij-project",level:2},{value:"Setting up run configurations",id:"setting-up-run-configurations",level:2},{value:"Running and Debugging",id:"running-and-debugging",level:2},{value:"Starting and Debugging the Language Server",id:"starting-and-debugging-the-language-server",level:2},{value:"Integration Tests",id:"integration-tests",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Java 17 (",(0,t.jsx)(n.a,{href:"https://www.oracle.com/java/technologies/downloads/",children:"download from Oracle"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["IntelliJ IDEA Community Edition (",(0,t.jsx)(n.a,{href:"https://www.jetbrains.com/idea/download/",children:"download from Jetbrains"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cloning-lingua-franca-repository",children:"Cloning lingua-franca repository"}),"\n",(0,t.jsx)(n.p,{children:"If you have not done so already, clone the lingua-franca repository into your working directory."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"git clone git@github.com:lf-lang/lingua-franca.git lingua-franca\ncd lingua-franca\ngit submodule update --init --recursive\n"})}),"\n",(0,t.jsx)(n.h2,{id:"opening-lingua-franca-as-intellij-project",children:"Opening lingua-franca as IntelliJ Project"}),"\n",(0,t.jsxs)(n.p,{children:["To import the Lingua Franca repository as a project, simply run ",(0,t.jsx)(n.code,{children:"./gradlew openIdea"}),".\nThis will create some project files and then open the project in IntelliJ."]}),"\n",(0,t.jsx)(n.p,{children:"When you open the project for the first time, you will see a small pop-up in the lower right corner."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(49149).A+"",width:"380",height:"79"})}),"\n",(0,t.jsxs)(n.p,{children:["Click on ",(0,t.jsx)("kbd",{children:"Load Gradle Project"})," to import the Gradle configurations."]}),"\n",(0,t.jsxs)(n.p,{children:["If you are prompted to a pop-up window asking if you trust the Gradle project, click ",(0,t.jsx)("kbd",{children:"Trust Project"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(72778).A+"",width:"413",height:"212"})}),"\n",(0,t.jsxs)(n.p,{children:["Once the repository is imported as a Gradle project, you will see a ",(0,t.jsx)("kbd",{children:"Gradle"})," tab on the right."]}),"\n",(0,t.jsx)(n.p,{children:"Once the indexing finishes, you can expand the Gradle project and see the set of Tasks."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(66516).A+"",width:"487",height:"730"})}),"\n",(0,t.jsxs)(n.p,{children:["You can run any Gradle command from IntelliJ simply by clicking on the ",(0,t.jsx)("kbd",{children:"Execute Gradle Task"})," icon in the Gradle tab. You are then prompted for the precise command to run."]}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-run-configurations",children:"Setting up run configurations"}),"\n",(0,t.jsxs)(n.p,{children:["You can set up a run configuration for running and debugging various Gradle tasks from the ",(0,t.jsx)("kbd",{children:"Gradle"})," tab, including the code generation through ",(0,t.jsx)(n.code,{children:"lfc"}),".\nTo set up a run configuration for the run task of ",(0,t.jsx)(n.code,{children:"lfc"}),", expand the ",(0,t.jsx)("kbd",{children:"application"})," task group under ",(0,t.jsx)("kbd",{children:"org.lflang > Tasks"}),", right-click on ",(0,t.jsx)("kbd",{children:"\u2699\ufe0f run"}),", and select ",(0,t.jsx)("kbd",{children:"Modify Run Configuration..."}),".\nThis will create a custom run/debug configuration for you."]}),"\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)("kbd",{children:"Create Run Configuration"})," dialog, click on the text box next to ",(0,t.jsx)("kbd",{children:"Run"}),", select ",(0,t.jsx)(n.code,{children:"cli:lfc:run"})," from the drop-down menu, and append arguments to be passed to ",(0,t.jsx)(n.code,{children:"lfc"})," using the ",(0,t.jsx)(n.code,{children:"--args"})," flag. For instance, to invoke ",(0,t.jsx)(n.code,{children:"lfc"})," on ",(0,t.jsx)(n.code,{children:"test/Cpp/src/HelloWorld.lf"}),", enter ",(0,t.jsx)(n.code,{children:"cli:lfc:run --args 'test/Cpp/src/HelloWorld.lf'"})," Then click ",(0,t.jsx)("kbd",{children:"OK"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(53498).A+"",width:"1244",height:"1282"})}),"\n",(0,t.jsxs)(n.p,{children:["You will see a new run/debug config added to the top-level menu bar, as shown below.\nYou can always change the config, for example, changing the ",(0,t.jsx)(n.code,{children:"--args"}),", by clicking ",(0,t.jsx)("kbd",{children:"Edit Configurations"})," via a drop-down menu."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(33808).A+"",width:"446",height:"127"})}),"\n",(0,t.jsx)(n.h2,{id:"running-and-debugging",children:"Running and Debugging"}),"\n",(0,t.jsx)(n.p,{children:"Using the newly added config, you can run and debug the code generator by clicking the play button and the debug button."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(73435).A+"",width:"320",height:"108"})}),"\n",(0,t.jsx)(n.p,{children:"Set up breakpoints before starting the debugger by clicking the space right next to the line numbers.\nWhile debugging, you can run code step-by-step by using the debugger tools."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(69806).A+"",width:"1113",height:"815"})}),"\n",(0,t.jsxs)(n.p,{children:["By clicking the play button, ",(0,t.jsx)(n.code,{children:"lfc"})," will be invoked, and if compilation is successful, its output can be found, relative to package root of the file under compilation, in ",(0,t.jsx)(n.code,{children:"bin"})," if the target is a compiled language (e.g., C) or in ",(0,t.jsx)(n.code,{children:"src-gen"})," if the target is an interpreted language (e.g., TypeScript).  For the ",(0,t.jsx)(n.code,{children:"HelloWorld.lf"})," example above, the binary can be found in ",(0,t.jsx)(n.code,{children:"test/Cpp/bin/HelloWorld"})," and can be executed in the terminal."]}),"\n",(0,t.jsx)(n.h2,{id:"starting-and-debugging-the-language-server",children:"Starting and Debugging the Language Server"}),"\n",(0,t.jsxs)(n.p,{children:["There should a predefined run configuration called ",(0,t.jsx)("kbd",{children:"LanguageDiagramServer"})," available, which executes the main method the ",(0,t.jsx)(n.code,{children:"LanguageDiagramServer"})," class, which, as a result, starts the language server."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:i(66401).A+"",width:"827",height:"558"})}),"\n",(0,t.jsxs)(n.p,{children:["Per default it uses the port ",(0,t.jsx)(n.code,{children:"7670"}),". This port should be the same as the port specified by the vscode-lingua-franca extension in its ",(0,t.jsx)(n.a,{href:"https://github.com/lf-lang/vscode-lingua-franca/blob/38515b4aa0de68383a88a0d4daf56cdb8c5b9b4c/.vscode/launch.json#L25",children:"launch configuration"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"After start-up it should output the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Connection to: localhost:7670\nStarting language server socket\nLanguage Server Socket ready!\n"})}),"\n",(0,t.jsx)(n.h2,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,t.jsxs)(n.p,{children:["You can also run the integration test from IntelliJ. You will find the ",(0,t.jsx)("kbd",{children:"targetTest"})," and ",(0,t.jsx)("kbd",{children:"singleTest"})," tasks in the Gradle tab under ",(0,t.jsx)("kbd",{children:"org.lflang > Tasks > other"}),". Make sure to add a run configuration as shown above and append ",(0,t.jsx)(n.code,{children:"-Ptarget=...'"})," to the ",(0,t.jsx)(n.code,{children:"targetTest"})," command or ",(0,t.jsx)(n.code,{children:"-DsingleTest=..."})," to your ",(0,t.jsx)(n.code,{children:"singleTest"})," command to specify the target (e.g., ",(0,t.jsx)(n.code,{children:"C"}),") or the specific test that you would like to run."]})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);