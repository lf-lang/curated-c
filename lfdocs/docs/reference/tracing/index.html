<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.11.0 docs-doc-page docs-doc-id-reference/tracing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Tracing | Lingua Franca</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" property="og:url" content="https://www.lf-lang.org/docs/reference/tracing/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.11.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" name="docsearch:version" content="0.11.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" property="og:title" content="Tracing | Lingua Franca"><meta data-rh="true" name="description" content="Tracing (preliminary)"><meta data-rh="true" property="og:description" content="Tracing (preliminary)"><link data-rh="true" rel="icon" href="../../../img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.lf-lang.org/docs/reference/tracing/"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/reference/tracing/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/reference/tracing/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U5IWIJW31Z-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="../../../blog/rss.xml" title="Lingua Franca RSS Feed">
<link rel="alternate" type="application/atom+xml" href="../../../blog/atom.xml" title="Lingua Franca Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Lingua Franca" href="../../../opensearch.xml"><link rel="stylesheet" href="../../../assets/css/styles.ba30d6af.css">
<script src="../../../assets/js/runtime~main.cb523eb3.js" defer="defer"></script>
<script src="../../../assets/js/main.0ff8ee1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img src="../../../img/lf-forlight.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/lf-fordark.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../index.html">Handbook</a><a class="navbar__item navbar__link" href="../../../blog/index.html">Blog</a><a class="navbar__item navbar__link" href="../../../research/index.html">Research</a><a class="navbar__item navbar__link" href="../../../community/index.html">Community</a><a class="navbar__item navbar__link" href="../../../events/index.html">Events</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="index.html">0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../next/reference/tracing/index.html">Nightly ðŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="index.html">0.11.0</a></li><li><a class="dropdown__link" href="../../0.10.0/reference/tracing/index.html">0.10.0</a></li><li><a class="dropdown__link" href="../../0.9.0/reference/tracing/index.html">0.9.0</a></li><li><a class="dropdown__link" href="../../0.8.0/reference/tracing/index.html">0.8.0</a></li><li><a class="dropdown__link" href="../../0.7.0/reference/tracing/index.html">0.7.0</a></li><li><a class="dropdown__link" href="../../0.6.0/reference/tracing/index.html">0.6.0</a></li><li><a class="dropdown__link" href="../../0.5.0/reference/tracing/index.html">0.5.0</a></li></ul></div><a href="https://github.com/lf-lang/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.html">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../installation/index.html">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../videos/index.html">Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../writing-reactors/a-first-reactor/index.html">Writing Reactors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../tools/code-extension/index.html">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="../docker-support/index.html">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../docker-support/index.html">Docker Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../expressions/index.html">Expressions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../target-language-details/index.html">Target Language Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../target-declaration/index.html">Target Declaration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.html">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../security/index.html">Security</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../embedded/arduino/index.html">Embedded Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../developer/contributing/index.html">Developer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../glossary/index.html">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Tracing</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.11.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Tracing</h1></header><p>This article has examples in the following target languages:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python</li></ul><div class="margin-top--md"></div></div>
<p>Tracing is a powerful tool when it comes to analysis and debugging of applications. Unfortunately, most tracing tools that are readily available are designed specifically for analyzing processes, threads and system calls. Specialized tools are required to enable analysis that is tailored to an alternative model of computation such as Reactors. The tools should be capable of understanding the fundamental concepts of the model, such as the distinction between logical and physical time, as well as structural units such as reactors and reactions. This page gives an overview of the currently supported trace mechanism, as well as an outline of alternative tools that could be useful in the future.</p>
<p>Tracing is different from <a href="/docs/reference/target-declaration/#logging">logging</a>. Logging produces human-readable output in textual form and incurs significant overhead. Tracing produces binary data that must be further processed to be useful and is designed to have minimal impact on the execution time of a program.</p>
<p>Tracing is currently supported in the C, Python, and C++ targets. The mechanism used in C and Python is different from that used in C++. Tracing in C++ requires third-party tools that may only be available in Linux. Tracing in C and Python does not require any third-party tools.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj ">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracing-in-c-and-python">Tracing in C and Python<a href="#tracing-in-c-and-python" class="hash-link" aria-label="Direct link to Tracing in C and Python" title="Direct link to Tracing in C and Python">â€‹</a></h2><p>The C and Python tracing mechanism depends only on the availability of the <code>pthread</code> library. Like C++ tracing, tracing is enabled by a target parameter:</p><pre class="shiki"><code>target C {
    tracing: true
};
</code></pre><p>Once it is enabled, when the compiled program, say <code>Foo.lf</code>, is executed, a trace file is created, <code>Foo.lft</code> (the extension is for &quot;Lingua Franca trace&quot;). If you wish to customize the root name of the trace file, you can specify the following target property instead:</p><pre class="shiki"><code>target C {
    tracing: {trace-file-name: &quot;Bar&quot;}
};
</code></pre><p>This will result in the trace file being named <code>Bar.lft</code>, regardless of the name of the <code>.lf</code> file.</p><p>The trace file is a binary file. It is not human readable. There are  utilities for reading it:</p><ul>
<li><code>trace_to_csv</code>: This program creates a text file with one line per traced event in comma-separated list format.</li>
<li><code>trace_to_chrome</code>: This program creates a text file in JSON format that is suitable for reading into the same Google Trace Viewer, which runs in Chrome, as used above in C++ tracing.</li>
<li><code>trace_to_influxdb</code> : This program will send the traced event to a running InfluxDB database server.</li>
<li><code>fedsd</code>: This program creates a timed sequence diagram showing the interactions between components of a federated program (see <a href="#tracing-federated-programs">Tracing Federated Programs</a> below).</li>
</ul><p>These four programs are located in reactor-c at <code>lingua-franca/core/src/main/resources/lib/c/reactor-c/util/tracing</code>. Running <code>sudo make install</code> in that directory will put executables into <code>usr/local/bin</code>.</p><p>Consider for example the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/C/src/concurrent/ThreadedThreaded.lf" target="_blank" rel="noopener noreferrer">ThreadedThreaded.lf</a> test, which executes a number of heavyweight computations in parallel on multiple cores. If you enable tracing as shown above and run the program, a <code>ThreadedTheread.lft</code> file will appear. Running</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   trace_to_csv ThreadedThreaded</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will create a file called <code>ThreadedThreaded.csv</code> that looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Event, Reactor, Reaction, Worker, Elapsed Logical Time, Microstep, Elapsed Physical Time, Trigger, Extra Delay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Schedule called, a, 0, 0, 0, 0, 704000, a.t, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Schedule called, a, 0, 0, 0, 0, 704000, a.t, 200000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Schedule called, a, 0, 0, 200000000, 0, 177916000, a.t, 200000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction starts, a, 0, 1, 0, 0, 765000, NO TRIGGER, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction ends, a, 0, 1, 0, 0, 765000, NO TRIGGER, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction starts, t[0], 0, 1, 0, 0, 793000, NO TRIGGER, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction ends, t[0], 0, 1, 0, 0, 177520000, NO TRIGGER, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction starts, t[3], 0, 1, 200000000, 0, 177955000, NO TRIGGER, 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reaction ends, t[3], 0, 1, 200000000, 0, 348602000, NO TRIGGER, 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first line defines each of the columns. For example, the second line records a call to <code>lf_schedule()</code> for reactor named <code>a</code>, with no associated reaction, in worker thread 0, at (elapsed) logical time 0 with microstep 0. The call occurred at (elapsed) physical time
704 microseconds and is scheduling the trigger named <code>a.t</code> (a timer) with extra delay 0. This file can be imported into any spreadsheet program and sorted and analyzed.</p><p>The <code>trace_to_csv</code> utility will also create a summary file called <code>ThreadedThreaded_summary.csv</code> that looks like this after importing in Excel:</p><p><img decoding="async" loading="lazy" alt="CSV summary file" src="../../../assets/images/ChromeTracingInC3-0a5ea36b3ea1fa903cac74fd107adf62.png" width="634" height="418" class="img_ev3q"></p><p>If you call</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   trace_to_chrome ThreadedThreaded</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then a ThreadedThreaded.json file is created. To visualize the data, point your Chrome browser to <code>chrome://tracing/</code>. Click on the <code>Load</code> button and select the <code>.json</code> file that you just created. The result should look something like this:</p><p><img decoding="async" loading="lazy" alt="Chrome tracing visualization" src="../../../assets/images/ChromeTracingInC-74adffc466006c21c1e0ed67a33dd4cc.png" width="1890" height="1152" class="img_ev3q"></p><p>The tan-colored regions whose labels start with &quot;A&quot; and &quot;W&quot; represent time spent advancing logical time and waiting for activity on the reaction queue, respectively. When logical time advances, unless you have specified the <code>-fast</code> option, one of the worker threads blocks execution until physical time catches up with logical time. The remaining worker threads block waiting for reactions that are ready to execute appear on the reaction queue.</p><p>The JSON trace format can be found <a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview#" target="_blank" rel="noopener noreferrer">here</a>. There is also a list of available <a href="https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html" target="_blank" rel="noopener noreferrer">color codes</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-defined-tracepoints">User-Defined Tracepoints<a href="#user-defined-tracepoints" class="hash-link" aria-label="Direct link to User-Defined Tracepoints" title="Direct link to User-Defined Tracepoints">â€‹</a></h3><p>Users can add their own tracepoints in order to provide low-overhead recording of events and events with values that occur during the execution of reactions. To do this, the first step is to register the trace event in a <strong>startup</strong> reaction as follows:</p><pre class="shiki"><code>    reaction(startup) {=
        if (!register_user_trace_event(&quot;Description of event&quot;)) {
            fprintf(stderr, &quot;ERROR: Failed to register trace event.\n&quot;);
            exit(1);
        }
    =}
</code></pre><p>The description of the event is an arbitrary string, but the string must be unique. All events with the same description will be collected together in any display of events.</p><p>To then actually record an event, in a reaction, call <code>tracepoint_user_event</code>, passing it the same string. E.g.,</p><pre class="shiki"><code>	reaction(in) -&gt; out {=
	    ...
	    tracepoint_user_event(&quot;Description of event&quot;);
	    ...
	=}
</code></pre><p>You can also pass a value to the trace. The type of the value is <code>long long</code>, so it can be a time value or an int. For example,</p><pre class="shiki"><code>	reaction(in) -&gt; out {=
	    ...
	    tracepoint_user_value(&quot;Description of event&quot;, 42);
	    ...
	=}
</code></pre><p>An example of a Chrome display of a run of the <a href="https://github.com/lf-lang/lingua-franca/blob/master/test/C/src/concurrent/Tracing.lf" target="_blank" rel="noopener noreferrer">Tracing regression test</a> is here:</p><p><img decoding="async" loading="lazy" alt="Chrome tracing visualization" src="../../../assets/images/ChromeTracingInC2-95d813a54fa312474edf998eb2a0126d.png" width="3010" height="374" class="img_ev3q"></p><p>In this image, &quot;Number of Destination invocations&quot; is an event description to
which values 1 through 10 were passed. This results in the shaded value plot
shown first. The other four rows are just pure events (with no value). They are
shown by (extremely) thin lines positioned at the physical time of the
occurrence of the event. Dragging the mouse over those thin lines shows further
details about the event in the window below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing-federated-programs">Tracing Federated Programs<a href="#tracing-federated-programs" class="hash-link" aria-label="Direct link to Tracing Federated Programs" title="Direct link to Tracing Federated Programs">â€‹</a></h3><p>When the <code>tracing</code> target parameter is set to <code>true</code> in a <a href="../../writing-reactors/distributed-execution/index.html">federated program</a>, then each federate plus the RTI will generate a binary trace file. The utility <code>fedsd</code> generates an HTML file containing an SVG graphic that shows the messages exchanged between components over time. Like the other utilities, <code>fedsd</code> is defined in <code>lingua_franca/util/tracing</code> and installed using <code>make install</code>.</p><p>Consider the following LF program:</p><svg xmlns="http://www.w3.org/2000/svg" width="300" height="177" baseProfile="full" viewBox="0 0 249 177" role="img"><title>Feedback example</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Friday, March 24, 2023 at 7:39:05 PM Central European Standard Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h249.1v177H0z"></path><path fill="#fff" d="M.5 8.5v160a8 8 0 0 0 8 8h232.1a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v160a8 8 0 0 0 8 8h232.1a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="47" transform="translate(88.55 6)">Feedback</text><path fill="#bebebe" d="M141.05 14.5v1a2 2 0 0 0 2 2h15a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h-15a2 2 0 0 0-2 2"></path><path fill="none" stroke="#bebebe" d="M141.05 14.5v1a2 2 0 0 0 2 2h15a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2h-15a2 2 0 0 0-2 2z"></path><path fill="#bebebe" d="M146.05 14.56a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"></path><path fill="none" stroke="#bebebe" d="M146.05 14.56a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"></path><path fill="#bebebe" d="M149.05 12.333a2.833 2.833 0 1 1-5.667 0 2.833 2.833 0 0 1 5.667 0"></path><path fill="none" stroke="#bebebe" d="M149.05 12.333a2.833 2.833 0 1 1-5.667 0 2.833 2.833 0 0 1 5.667 0z"></path><path fill="#bebebe" d="M156.85 13a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0"></path><path fill="none" stroke="#bebebe" d="M156.85 13a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0z"></path><path fill="#f2f2f2" d="M14 37.5v58a8 8 0 0 0 8 8h96a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H22a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M14 37.5v58a8 8 0 0 0 8 8h96a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H22a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="41" transform="translate(49.5 35)">f1 : Fed1</text><path fill="#f2f2f2" d="M54 68c0 8.008-6.492 14.5-14.5 14.5S25 76.008 25 68s6.492-14.5 14.5-14.5S54 59.992 54 68"></path><path fill="none" stroke="#000" d="M54 68c0 8.008-6.492 14.5-14.5 14.5S25 76.008 25 68s6.492-14.5 14.5-14.5S54 59.992 54 68z"></path><path fill="none" stroke="#000" d="M39.5 56v12l6 6"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="40" transform="translate(19.5 88)">(10 msec)</text><path fill="#a6a6a6" d="M74.5 57h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M74.5 57h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M54.5 68h26M119.5 68h3.7"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(133.2 57)">x</text><path d="m123.2 64 8 4-8 4z"></path><path fill="none" stroke="#000" d="m123.2 64 8 4-8 4z"></path><path fill="#f2f2f2" d="M165.4 41.5v72a8 8 0 0 0 8 8h42a8 8 0 0 0 8-8v-72a8 8 0 0 0-8-8h-42a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M165.4 41.5v72a8 8 0 0 0 8 8h42a8 8 0 0 0 8-8v-72a8 8 0 0 0-8-8h-42a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="43" transform="translate(172.9 39)">f2 : Fed2</text><path fill="#a6a6a6" d="M171.9 57h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M171.9 57h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(191.9 62)">1</text><path fill="#a6a6a6" d="M171.9 94h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M171.9 94h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="7" transform="translate(190.9 99)">2</text><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M168.2 68h9.7M216.9 68h3.7M168.2 105h9.7"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(153.2 57)">x</text><path d="m160.2 64 8 4-8 4z"></path><path fill="none" stroke="#000" d="m160.2 64 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(153.2 94)">z</text><path d="m160.2 101 8 4-8 4z"></path><path fill="none" stroke="#000" d="m160.2 101 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(230.6 57)">y</text><path d="m220.6 64 8 4-8 4z"></path><path fill="none" stroke="#000" d="m220.6 64 8 4-8 4z"></path><path fill="#f2f2f2" d="M68 127.5v35a8 8 0 0 0 8 8h42a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8H76a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M68 127.5v35a8 8 0 0 0 8 8h42a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8H76a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="44" transform="translate(75 125)">f3 : Fed3</text><path fill="#a6a6a6" d="M74.5 143h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M74.5 143h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M70.8 154h9.7M119.5 154h3.7"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(55.8 143)">x</text><path d="m62.8 150 8 4-8 4z"></path><path fill="none" stroke="#000" d="m62.8 150 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(133.2 143)">y</text><path d="m123.2 150 8 4-8 4z"></path><path fill="none" stroke="#000" d="m123.2 150 8 4-8 4zM131.2 68h29M228.6 68h14.5V21H6v133h56.8"></path><path fill="none" stroke="#000" d="M131.2 154h14.5v-49h14.5"></path></g></svg><p>Setting <code>tracing: true</code> in this program and running it produces four <code>.lft</code> files. Running <code>fedsd</code> on those files:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   fedsd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>results in converting the files to <code>.csv</code> files and then generating a <code>trace_svg.html</code> file. Opening that file reveals a trace, the beginning of which looks like this:</p><p><img decoding="async" loading="lazy" alt="Feedback trace" src="../../../assets/images/SDstartup-bdac5777c2837640aaefe70a18a43faf.png" width="1550" height="1152" class="img_ev3q"></p><p>This section of the trace shows only the initial negotiation for the start time for the federation. The vertical axis represents physical time, and the labels on that axis display physical time relative to the start time that is the result of this initial negotiation. The vertical axis is not linear so that more events can be displayed in a small space. The horizontal lines represent messages sent and received, with the message type and tag information (if any) shown.</p><p>A more interesting part of the trace is shown here:</p><p><img decoding="async" loading="lazy" alt="Feedback trace" src="../../../assets/images/Messages-8383c56e100e236f47ec620e40ea462d.png" width="1592" height="1332" class="img_ev3q"></p><p>This shows <code>f1</code> (on the right) advancing time to 10 ms, and sending a message (in red, via the RTI) to <code>f2</code>, which then forwards it to <code>f3</code> (again, via the RTI).</p></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tracing-in-c">Tracing in C++<a href="#tracing-in-c" class="hash-link" aria-label="Direct link to Tracing in C++" title="Direct link to Tracing in C++">â€‹</a></h2><p>Tracing in the C++ target of Lingua Franca is based on three third-party tools. <a href="https://lttng.org/docs/v2.12/" target="_blank" rel="noopener noreferrer">LTTng</a> is a Linux tool used to instrument the Lingua Franca program and to record traces in the <a href="https://diamon.org/ctf/" target="_blank" rel="noopener noreferrer">CTF</a>, which minimizes the overhead of instrumentation. Chrome (or Chromium) has a build in <a href="https://www.chromium.org/developers/how-tos/trace-event-profiling-tool" target="_blank" rel="noopener noreferrer">trace viewer</a> that is used to visualize the recorded trace data in a reactor-specific way. Since the Chrome trace-viewer cannot read CTF traces directly, we use <a href="https://babeltrace.org/" target="_blank" rel="noopener noreferrer">Babeltrace2</a> to convert the recorded CTF trace to a JSON file that the Google trace viewer can load.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">â€‹</a></h2><p>Some helper scripts that we will use below, can be found in the <a href="https://github.com/tud-ccc/reactor-cpp/tree/master/tracing" target="_blank" rel="noopener noreferrer">reactor-cpp repository</a>.</p><ol>
<li>
<p>Build and install the user space tools of LTTng (lttng-ust) as described <a href="https://lttng.org/docs/#doc-installing-lttng" target="_blank" rel="noopener noreferrer">here</a>. On Arch, there is a community package available <code>pacman -Sy lttng-ust</code>. On Ubuntu, you need to install <code>lttng-tools</code>, <code>lttng-modules-dkms</code>, and <code>liblttng-ust-dev</code></p>
</li>
<li>
<p>Build and install Babeltrace2 and its python bindings as described <a href="https://github.com/efficios/babeltrace/blob/stable-2.0/README.adoc" target="_blank" rel="noopener noreferrer">here</a>. In most cases, the following steps should work:</p>
<ol>
<li><code>git clone --branch v2.0.4 git@github.com:efficios/babeltrace.git</code></li>
<li><code>cd babeltrace</code></li>
<li><code>./bootstrap</code></li>
<li><code>./configure --prefix=/path/to/preferred/install/location --enable-python-bindings --disable-debug-info --disable-man-pages</code></li>
<li><code>make install</code></li>
</ol>
</li>
<li>
<p>Make sure babeltrace is available on your path:</p>
<ol>
<li><code>export PYTHONPATH=${PYTHONPATH}:/path/to/preferred/install/location/lib/python3.8/site-packages</code></li>
<li><code>export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/path/to/preferred/install/location/lib</code></li>
</ol>
</li>
<li>
<p>Modify the target declaration of your Lingua Franca program to enable tracing:</p>
</li>
</ol><pre class="shiki"><code>target Cpp {
    tracing: true
};
</code></pre><ol start="5">
<li>Build the Lingua Franca program. The current build process is not very robust and does not automatically rebuild the reactor-cpp framework with tracing support if an earlier build exist. Be sure to remove all build artifacts <code>rm -r bin build include lib share src-gen</code> before triggering a new build. Alternatively, if you compile with <code>lfc</code>, you can add <code>-c</code> to the command to clean before building.</li>
<li>Start a LTTng user space session by simply running the <code>start_tracing.sh</code> script. This will print the directory in which the recorded traces will be placed.</li>
<li>Run your instrumented Lingua Franca application.</li>
<li>Stop the LTTng session using <code>stop_tracing.sh</code>.</li>
<li>Convert the recorded CTF trace to a JSON file using <code>ctf_to_json.py &lt;lttng-session-dir&gt;</code>. <code>&lt;lttng-session-dir&gt;</code> is the output directory reported by <code>start_tracing.sh</code>. By default, this produces a file <code>trace.json</code>. Optionally, the default output file can be overridden using <code>-o</code> or <code>--output</code>.</li>
<li>Open Chrome (or Chromium) and go to <code>about://tracing</code>. Load the previously generated JSON file to visualize it.</li>
</ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-trace-view">The Trace View<a href="#the-trace-view" class="hash-link" aria-label="Direct link to The Trace View" title="Direct link to The Trace View">â€‹</a></h2><p><img decoding="async" loading="lazy" src="https://user-images.githubusercontent.com/6460123/81709144-fcb29a00-9471-11ea-9032-95cb6a368e98.png" alt="Screenshot_20200512_165849" class="img_ev3q"></p><p>The trace visualization consists of two parts. The upper part (labeled <em>Execution</em>), shows the physical time at which reactions are executed by the scheduler or by its worker threads. The lower parts show the reactors of the program. For each reactor, all scheduled actions (red markers) and all triggered reactions (blue markers) are visualized by their logical time. All elements in the trace view can be clicked on to display more detailed information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supporting-tracing-in-other-targets">Supporting Tracing in Other Targets<a href="#supporting-tracing-in-other-targets" class="hash-link" aria-label="Direct link to Supporting Tracing in Other Targets" title="Direct link to Supporting Tracing in Other Targets">â€‹</a></h2><p>The same mechanism as described above can be used to trace Lingua Franca applications in other target languages. The key is to instrument the target runtime in order to produce CTF traces. <a href="https://lttng.org/docs/" target="_blank" rel="noopener noreferrer">LTTng</a> comes with support for multiple languages. As a fallback solution, C can be used to define the trace points which then can be used from the target language through a foreign function interface. It should also be considered, to use an alternative library in the target language that is capable of producing CTF traces. The only requirement is that the generated CTF events have a similar structure, as it is currently used in the C++ target. See <a href="https://github.com/tud-ccc/reactor-cpp/blob/master/include/reactor-cpp/trace.hh" target="_blank" rel="noopener noreferrer">trace.hh</a> in <a href="https://github.com/tud-ccc/reactor-cpp" target="_blank" rel="noopener noreferrer">reactor-cpp</a> to get an overview of the available trace points.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trace-viewers">Trace Viewers<a href="#trace-viewers" class="hash-link" aria-label="Direct link to Trace Viewers" title="Direct link to Trace Viewers">â€‹</a></h2><p>This section gives a brief overview of trace viewers that could be applicable for tracing Lingua Franca applications.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="google-trace-viewer">Google Trace Viewer<a href="#google-trace-viewer" class="hash-link" aria-label="Direct link to Google Trace Viewer" title="Direct link to Google Trace Viewer">â€‹</a></h3><p>The Google Trace Viewer is the only viewer currently supported. Since it reads JSON files, it is easy to use and a conversion script can easily tailor the trace data such that it is correctly displayed by the viewer. Documentation of the JSON trace format can be found <a href="https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview#" target="_blank" rel="noopener noreferrer">here</a>. There is also a list of available <a href="https://github.com/catapult-project/catapult/blob/master/tracing/tracing/base/color_scheme.html" target="_blank" rel="noopener noreferrer">color codes</a>. The approach of using LTTng for tracing, a converter and Google Trace Viewer can also be used to sample and visualize data live. This is shown in the <a href="https://clearpathrobotics.com/blog/2020/01/scalopus-tracing-framework-c-python/" target="_blank" rel="noopener noreferrer">Scalapus project</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trace-compass">Trace Compass<a href="#trace-compass" class="hash-link" aria-label="Direct link to Trace Compass" title="Direct link to Trace Compass">â€‹</a></h3><p><a href="https://www.eclipse.org/tracecompass/" target="_blank" rel="noopener noreferrer">Trace Compass</a> is based on Eclipse and has native support for CTF traces. Due to the Eclipse support, Trace Compass is a natural candidate for integration with the Lingua Franca IDE. However, Trace Compass is tailored for the visualization of kernel traces or running user processes. Out of the box, it cannot make sense of reactor traces. There are various ways to customize Trace Compass in order to properly display the data, but they are difficult to use and/or not well documented.</p><ol>
<li>Custom trace analysis and views can be defined in an <a href="https://archive.eclipse.org/tracecompass/doc/stable/org.eclipse.tracecompass.doc.user/Data-driven-analysis.html" target="_blank" rel="noopener noreferrer">XML format</a>. This probably works well for smaller tasks, but programming a mildly complex analysis in XML without proper error checking and debugging appears ridiculous.</li>
<li>Custom analysis and views can also be programmed in <a href="https://archive.eclipse.org/tracecompass.incubator/doc/org.eclipse.tracecompass.incubator.scripting.doc.user/User-Guide.html" target="_blank" rel="noopener noreferrer">scripting languages</a> such as Python or Java Script. However, the tools seem not to be ready for production. I was not able to get the Python support working. Using Java Script the tools worked for simple tasks, but I was not able to come to a satisfactory results due to lack of or incomplete documentation and low customizability.</li>
<li>Writing a Trace Compass <a href="https://rtist.hcldoc.com/help/index.jsp?topic=%2Forg.eclipse.tracecompass.doc.dev%2Fdoc%2FView-Tutorial.html" target="_blank" rel="noopener noreferrer">Plugin</a>. This seems to be the most promising approach, but probably requires a considerable amount of work. Writing such a plugin and integrating it with the Lingua Franca IDE could be a nice student project though.</li>
</ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vampir">Vampir<a href="#vampir" class="hash-link" aria-label="Direct link to Vampir" title="Direct link to Vampir">â€‹</a></h3><p><a href="https://vampir.eu/" target="_blank" rel="noopener noreferrer">Vampir</a> is another powerful tracing tool that is mainly developed at TU Dresden. It targets mostly HPC applications, and I am not sure if it can be adjusted to display specific information other than details of processes and threads.</p></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lf-lang/lf-lang.github.io/tree/master/versioned_docs/version-0.11.0/reference/tracing.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../target-declaration/index.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Target Declaration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../security/index.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tracing-in-c" class="table-of-contents__link toc-highlight">Tracing in C++</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#the-trace-view" class="table-of-contents__link toc-highlight">The Trace View</a></li><li><a href="#supporting-tracing-in-other-targets" class="table-of-contents__link toc-highlight">Supporting Tracing in Other Targets</a></li><li><a href="#trace-viewers" class="table-of-contents__link toc-highlight">Trace Viewers</a><ul><li><a href="#google-trace-viewer" class="table-of-contents__link toc-highlight">Google Trace Viewer</a></li><li><a href="#trace-compass" class="table-of-contents__link toc-highlight">Trace Compass</a></li><li><a href="#vampir" class="table-of-contents__link toc-highlight">Vampir</a></li></ul></li><li><a href="#tracing-in-c-and-python" class="table-of-contents__link toc-highlight">Tracing in C and Python</a><ul><li><a href="#user-defined-tracepoints" class="table-of-contents__link toc-highlight">User-Defined Tracepoints</a></li><li><a href="#tracing-federated-programs" class="table-of-contents__link toc-highlight">Tracing Federated Programs</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zulip.lf-lang.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../blog/index.html">Blog</a></li><li class="footer__item"><a href="https://github.com/lf-lang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 The Lingua Franca project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>