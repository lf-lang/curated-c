<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.11.0 docs-doc-page docs-doc-id-writing-reactors/composing-reactors" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Composing Reactors | Lingua Franca</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" property="og:url" content="https://www.lf-lang.org/docs/writing-reactors/composing-reactors/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.11.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" name="docsearch:version" content="0.11.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" property="og:title" content="Composing Reactors | Lingua Franca"><meta data-rh="true" name="description" content="Composing reactors in Lingua Franca."><meta data-rh="true" property="og:description" content="Composing reactors in Lingua Franca."><link data-rh="true" rel="icon" href="../../../img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.lf-lang.org/docs/writing-reactors/composing-reactors/"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/composing-reactors/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/composing-reactors/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U5IWIJW31Z-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="../../../blog/rss.xml" title="Lingua Franca RSS Feed">
<link rel="alternate" type="application/atom+xml" href="../../../blog/atom.xml" title="Lingua Franca Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Lingua Franca" href="../../../opensearch.xml"><link rel="stylesheet" href="../../../assets/css/styles.ba30d6af.css">
<script src="../../../assets/js/runtime~main.cb523eb3.js" defer="defer"></script>
<script src="../../../assets/js/main.0ff8ee1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img src="../../../img/lf-forlight.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/lf-fordark.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../index.html">Handbook</a><a class="navbar__item navbar__link" href="../../../blog/index.html">Blog</a><a class="navbar__item navbar__link" href="../../../research/index.html">Research</a><a class="navbar__item navbar__link" href="../../../community/index.html">Community</a><a class="navbar__item navbar__link" href="../../../events/index.html">Events</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="index.html">0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../next/writing-reactors/composing-reactors/index.html">Nightly ðŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="index.html">0.11.0</a></li><li><a class="dropdown__link" href="../../0.10.0/writing-reactors/composing-reactors/index.html">0.10.0</a></li><li><a class="dropdown__link" href="../../0.9.0/writing-reactors/composing-reactors/index.html">0.9.0</a></li><li><a class="dropdown__link" href="../../0.8.0/writing-reactors/composing-reactors/index.html">0.8.0</a></li><li><a class="dropdown__link" href="../../0.7.0/writing-reactors/composing-reactors/index.html">0.7.0</a></li><li><a class="dropdown__link" href="../../0.6.0/writing-reactors/composing-reactors/index.html">0.6.0</a></li><li><a class="dropdown__link" href="../../0.5.0/writing-reactors/composing-reactors/index.html">0.5.0</a></li></ul></div><a href="https://github.com/lf-lang/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.html">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../installation/index.html">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../videos/index.html">Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="../a-first-reactor/index.html">Writing Reactors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../a-first-reactor/index.html">A First Reactor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../inputs-and-outputs/index.html">Inputs and Outputs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../parameters-and-state-variables/index.html">Parameters and State Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../time-and-timers/index.html">Time and Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.html">Composing Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reactions/index.html">Reactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reaction-declarations/index.html">Reaction Declarations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../methods/index.html">Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../causality-loops/index.html">Causality Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../extending-reactors/index.html">Extending Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../actions/index.html">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../superdense-time/index.html">Superdense Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../modal-models/index.html">Modal Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../deadlines/index.html">Deadlines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../multiports-and-banks/index.html">Multiports and Banks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../generics/index.html">Generic Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../preambles/index.html">Preambles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../distributed-execution/index.html">Distributed Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../termination/index.html">Termination</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../tools/code-extension/index.html">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../reference/docker-support/index.html">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../embedded/arduino/index.html">Embedded Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../developer/contributing/index.html">Developer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../glossary/index.html">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Writing Reactors</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Composing Reactors</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.11.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Composing Reactors</h1></header><p>This article has examples in the following target languages:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rust</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">TypeScript</li></ul><div class="margin-top--md"></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contained-reactors">Contained Reactors<a href="#contained-reactors" class="hash-link" aria-label="Direct link to Contained Reactors" title="Direct link to Contained Reactors">â€‹</a></h2>
<p>Reactors can contain instances of other reactors defined in the same file or in an imported file. Assume the <code>Count</code> and <code>Scale</code> reactors defined in <a href="../parameters-and-state-variables/index.html">Parameters and State Variables</a> are stored in files <code>Count.lf</code> and <code>Scale.lf</code>, respectively,
and that the <code>TestCount</code> reactor from <a href="../time-and-timers/index.html">Time and Timers</a> is stored in <code>TestCount.lf</code>. Then the following program composes one instance of each of the three:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C {
  timeout: 1 sec,
  fast: true
}

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

main reactor RegressionTest {
  c = new Count()
  s = new Scale(factor=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; s.x
  s.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp {
  timeout: 1 sec,
  fast: true
}

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

main reactor RegressionTest {
  c = new Count()
  s = new Scale(factor=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; s.x
  s.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python {
  timeout: 1 sec,
  fast: true
}

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

main reactor RegressionTest {
  c = new Count()
  s = new Scale(factor=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; s.x
  s.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust {
  timeout: 1 sec,
  fast: true
}

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

main reactor RegressionTest {
  c = new Count()
  s = new Scale(factor=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; s.x
  s.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript {
  timeout: 1 sec,
  fast: true
}

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

main reactor RegressionTest {
  c = new Count()
  s = new Scale(factor=4)
  t = new TestCount(stride=4, numInputs=11)
  c.y -&gt; s.x
  s.y -&gt; t.x
}
</code></pre></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagrams">Diagrams<a href="#diagrams" class="hash-link" aria-label="Direct link to Diagrams" title="Direct link to Diagrams">â€‹</a></h2>
<p>As soon as programs consist of more than one reactor, it becomes particularly useful to reference the diagrams that are automatically created and displayed by the Lingua Franca IDEs. The diagram for the above program is as follows:</p>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="500" height="118" baseProfile="full" viewBox="0 0 399 118" role="img"><title>Lingua Franca diagram: RegressionTest</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, March 27, 2022 at 4:32:52 PM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h399v118H0z"></path><path fill="#fff" d="M.5 8.5v101a8 8 0 0 0 8 8h382a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v101a8 8 0 0 0 8 8h382a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="73" transform="translate(163 6)">RegressionTest</text><path fill="#f2f2f2" d="M273.2 33.5v70a8 8 0 0 0 8 8h103.3a8 8 0 0 0 8-8v-70a8 8 0 0 0-8-8H281.2a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M273.2 33.5v70a8 8 0 0 0 8 8h103.3a8 8 0 0 0 8-8v-70a8 8 0 0 0-8-8H281.2a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="63" transform="translate(301.35 31)">t : TestCount</text><path fill="#fff" d="m318 86 9 9-9 9-9-9z"></path><path fill="none" stroke="#000" d="m318 86 9 9-9 9-9-9z"></path><path fill="#a6a6a6" d="M342 84h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M342 84h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="7" transform="translate(361 89)">2</text><path fill="#a6a6a6" d="M282 49h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M282 49h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(302 54)">1</text><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M327 95h21M276 60h12"></path><path d="m268 56 8 4-8 4z"></path><path fill="none" stroke="#000" d="m268 56 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(262 65)">x</text><path fill="#f2f2f2" d="M173.2 33.5v39a8 8 0 0 0 8 8h46.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-46.6a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M173.2 33.5v39a8 8 0 0 0 8 8h46.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-46.6a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="41" transform="translate(184 31)">s : Scale</text><path fill="#a6a6a6" d="M182 49h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M182 49h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M176 60h12M227 60h6"></path><path d="m168 56 8 4-8 4z"></path><path fill="none" stroke="#000" d="m168 56 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(162 65)">x</text><path d="m233 56 8 4-8 4z"></path><path fill="none" stroke="#000" d="m233 56 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(242 65)">y</text><path fill="#f2f2f2" d="M6.5 29.5v58a8 8 0 0 0 8 8h113.3a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v58a8 8 0 0 0 8 8h113.3a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="44" transform="translate(49.15 27)">c : Count</text><path fill="#f2f2f2" d="M54 60c0 8.008-6.492 14.5-14.5 14.5S25 68.008 25 60s6.492-14.5 14.5-14.5S54 51.992 54 60"></path><path fill="none" stroke="#000" d="M54 60c0 8.008-6.492 14.5-14.5 14.5S25 68.008 25 60s6.492-14.5 14.5-14.5S54 51.992 54 60z"></path><path fill="none" stroke="#000" d="M39.5 48v12l6 6"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="55" transform="translate(12 80)">(0, 100 msec)</text><path fill="#a6a6a6" d="M82 49h39l6 11-6 11H82l6-11z"></path><path fill="none" stroke="#737373" d="M82 49h39l6 11-6 11H82l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M54.5 60H88M127 60h6"></path><path d="m133 56 8 4-8 4z"></path><path fill="none" stroke="#000" d="m133 56 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(142 65)">y</text><path fill="none" stroke="#000" d="M241 60h27M141 60h27"></path></g></svg>
<p>In this diagram, the timer is represented by a clock-like icon, the reactions by chevron shapes, and the <code>shutdown</code> event by a diamond. If there were a <code>startup</code> event in this program, it would appear as a circle.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-reactor-instances">Creating Reactor Instances<a href="#creating-reactor-instances" class="hash-link" aria-label="Direct link to Creating Reactor Instances" title="Direct link to Creating Reactor Instances">â€‹</a></h2>
<p>An instance is created with the syntax:</p>
<pre class="shiki"><code>    &lt;instance_name&gt; = new &lt;class_name&gt;(parameters)
</code></pre>
<p>A bank with several instances can be created in one such statement, as explained in the <a href="/docs/writing-reactors/multiports-and-banks/#banks-of-reactors">banks of reactors documentation</a>.</p>
<p>The <code>&lt;parameters&gt;</code> argument is a comma-separated list of assignments:</p>
<pre class="shiki"><code>    &lt;parameter_name&gt; = &lt;value&gt;, ...
</code></pre>
<p>Like the default value for parameters, <code>&lt;value&gt;</code> can be a numeric constant, a string enclosed in quotation marks, a time value such as <code>10 msec</code>, target-language code enclosed in <code>{= ... =}</code>, or any of the list forms described in <a href="../../reference/expressions/index.html">Expressions</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connections">Connections<a href="#connections" class="hash-link" aria-label="Direct link to Connections" title="Direct link to Connections">â€‹</a></h2>
<p>Connections between ports are specified with the syntax:</p>
<pre class="shiki"><code>    &lt;source_port_reference&gt; -&gt; &lt;destination_port_reference&gt;
</code></pre>
<p>where the port references are either <code>&lt;instance_name&gt;.&lt;port_name&gt;</code> or just <code>&lt;port_name&gt;</code>, where the latter form is used for connections that cross hierarchical boundaries, as illustrated in the next section.</p>
<p>On the left and right of a connection statement, you can put a comma-separated list. For example, the above pair of connections can be written,</p>
<pre class="shiki"><code>    c.y, s.y -&gt; s.x, t.x
</code></pre>
<p>A constraint is that the total number of channels on the left match the total number on the right.
In addition, some targets require the types of all the ports to be the same.</p>
<p>A destination port (on the right) can only be connected to a single source port (on the left). However, a source port may be connected to multiple destinations, as in the following example:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>reactor A {
  output y:int
}
reactor B {
  input x:int
}
main reactor {
  a = new A()
  b1 = new B()
  b2 = new B()
  a.y -&gt; b1.x
  a.y -&gt; b2.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>reactor A {
  output y:int
}
reactor B {
  input x:int
}
main reactor {
  a = new A()
  b1 = new B()
  b2 = new B()
  a.y -&gt; b1.x
  a.y -&gt; b2.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>reactor A {
  output y:int
}
reactor B {
  input x:int
}
main reactor {
  a = new A()
  b1 = new B()
  b2 = new B()
  a.y -&gt; b1.x
  a.y -&gt; b2.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>reactor A {
  output y:int
}
reactor B {
  input x:int
}
main reactor {
  a = new A()
  b1 = new B()
  b2 = new B()
  a.y -&gt; b1.x
  a.y -&gt; b2.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>reactor A {
  output y
}
reactor B {
  input x
}
main reactor {
  a = new A()
  b1 = new B()
  b2 = new B()
  a.y -&gt; b1.x
  a.y -&gt; b2.x
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="250" height="100" baseProfile="full" viewBox="0 0 130 100" role="img"><title>Lingua Franca diagram: Multicast</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Saturday, April 2, 2022 at 5:45:26 PM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h130.4v100H0z"></path><path fill="#fff" d="M.5 8.5v83a8 8 0 0 0 8 8h113.4a8 8 0 0 0 8-8v-83a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v83a8 8 0 0 0 8 8h113.4a8 8 0 0 0 8-8v-83a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="49" transform="translate(40.7 6)">Multicast1</text><path fill="#f2f2f2" d="M6.5 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="22" transform="translate(12 27)">a : A</text><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(45.7 40)">y</text><path d="m36.7 31 8 4-8 4z"></path><path fill="none" stroke="#000" d="m36.7 31 8 4-8 4z"></path><path fill="#f2f2f2" d="M83.9 29.5v11a8 8 0 0 0 8 8h24a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-24a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M83.9 29.5v11a8 8 0 0 0 8 8h24a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-24a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="29" transform="translate(89.4 30)">b2 : B</text><path d="m78.7 31 8 4-8 4z"></path><path fill="none" stroke="#000" d="m78.7 31 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(72.7 40)">x</text><path fill="#f2f2f2" d="M83.9 73.5v11a8 8 0 0 0 8 8h22a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-22a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M83.9 73.5v11a8 8 0 0 0 8 8h22a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-22a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="27" transform="translate(89.4 74)">b1 : B</text><path d="m78.7 75 8 4-8 4z"></path><path fill="none" stroke="#000" d="m78.7 75 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(72.7 84)">x</text><path fill="none" stroke="#000" d="M44.7 35h17v44h17"></path><path d="M63.2 35a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"></path><path fill="none" stroke="#000" d="M63.2 35a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM44.7 35h34"></path></g></svg>
<p>Lingua Franca provides a convenient shortcut for such multicast connections, where the above two lines can be replaced by one as follows:</p>
<pre class="shiki"><code>  (a.y)+ -&gt; b1.x, b2.x
</code></pre>
<p>The enclosing <code>( ... )+</code> means to repeat the enclosed comma-separated list of sources however many times is needed to provide inputs to all the sinks on the right of the connection <code>-&gt;</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="import-statement">Import Statement<a href="#import-statement" class="hash-link" aria-label="Direct link to Import Statement" title="Direct link to Import Statement">â€‹</a></h2>
<p>An import statement has the form:</p>
<pre class="shiki"><code>  import &lt;classname&gt; as &lt;alias&gt; from &quot;&lt;path&gt;&quot;
</code></pre>
<p>where <code>&lt;classname&gt;</code> and <code>&lt;alias&gt;</code> can be a comma-separated list to import multiple reactors from the same file. The <code>&lt;path&gt;</code> specifies another <code>.lf</code> file relative to the location of the current file. The <code>as &lt;alias&gt;</code> portion is optional and specifies alternative class names to use in the <code>new</code> statements.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hierarchy">Hierarchy<a href="#hierarchy" class="hash-link" aria-label="Direct link to Hierarchy" title="Direct link to Hierarchy">â€‹</a></h2>
<p>Reactors can be composed in arbitrarily deep hierarchies. For example, the following program combines the <code>Count</code> and <code>Scale</code> reactors within on <code>Container</code>:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

reactor Container(stride: int = 2) {
  output y: int
  c = new Count()
  s = new Scale(factor=stride)
  c.y -&gt; s.x
  s.y -&gt; y
}

main reactor Hierarchy {
  c = new Container(stride=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

reactor Container(stride: int(2)) {
  output y: int
  c = new Count()
  s = new Scale(factor=stride)
  c.y -&gt; s.x
  s.y -&gt; y
}

main reactor Hierarchy {
  c = new Container(stride=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

reactor Container(stride=2) {
  output y
  c = new Count()
  s = new Scale(factor=stride)
  c.y -&gt; s.x
  s.y -&gt; y
}

main reactor Hierarchy {
  c = new Container(stride=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

reactor Container(stride: u32 = 2) {
  output y: u32
  c = new Count()
  s = new Scale(factor=stride)
  c.y -&gt; s.x
  s.y -&gt; y
}

main reactor Hierarchy {
  c = new Container(stride=4)
  t = new TestCount(stride=4, num_inputs=11)
  c.y -&gt; t.x
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

import Count from &quot;Count.lf&quot;
import Scale from &quot;Scale.lf&quot;
import TestCount from &quot;TestCount.lf&quot;

reactor Container(stride: number = 2) {
  output y: number
  c = new Count()
  s = new Scale(factor=stride)
  c.y -&gt; s.x
  s.y -&gt; y
}

main reactor Hierarchy {
  c = new Container(stride=4)
  t = new TestCount(stride=4, numInputs=11)
  c.y -&gt; t.x
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="500" height="142" baseProfile="full" viewBox="0 0 425 142" role="img"><title>Lingua Franca diagram: Hierarchy</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Tuesday, March 29, 2022 at 10:10:43 AM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h425v142H0z"></path><path fill="#fff" d="M.5 8.5v125a8 8 0 0 0 8 8h408a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v125a8 8 0 0 0 8 8h408a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="47" transform="translate(189 6)">Hierarchy</text><path fill="#f2f2f2" d="M299.2 57.5v70a8 8 0 0 0 8 8h103.3a8 8 0 0 0 8-8v-70a8 8 0 0 0-8-8H307.2a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M299.2 57.5v70a8 8 0 0 0 8 8h103.3a8 8 0 0 0 8-8v-70a8 8 0 0 0-8-8H307.2a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="63" transform="translate(327.35 55)">t : TestCount</text><path fill="#fff" d="m344 110 9 9-9 9-9-9z"></path><path fill="none" stroke="#000" d="m344 110 9 9-9 9-9-9z"></path><path fill="#a6a6a6" d="M368 108h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M368 108h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="7" transform="translate(387 113)">2</text><path fill="#a6a6a6" d="M308 73h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M308 73h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(328 78)">1</text><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M353 119h21M302 84h12"></path><path d="m294 80 8 4-8 4z"></path><path fill="none" stroke="#000" d="m294 80 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(288 89)">x</text><path fill="#f2f2f2" d="M6.5 29.5v88a8 8 0 0 0 8 8h239.3a8 8 0 0 0 8-8v-88a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v88a8 8 0 0 0 8 8h239.3a8 8 0 0 0 8-8v-88a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="62" transform="translate(103.15 27)">c : Container</text><path fill="#f2f2f2" d="M179.2 57.5v39a8 8 0 0 0 8 8h46.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-46.6a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M179.2 57.5v39a8 8 0 0 0 8 8h46.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-46.6a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="41" transform="translate(190 55)">s : Scale</text><path fill="#a6a6a6" d="M188 73h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M188 73h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M182 84h12M233 84h6"></path><path d="m174 80 8 4-8 4z"></path><path fill="none" stroke="#000" d="m174 80 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(168 89)">x</text><path d="m239 80 8 4-8 4z"></path><path fill="none" stroke="#000" d="m239 80 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(248 89)">y</text><path fill="#f2f2f2" d="M12.5 53.5v58a8 8 0 0 0 8 8h113.3a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 53.5v58a8 8 0 0 0 8 8h113.3a8 8 0 0 0 8-8v-58a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="44" transform="translate(55.15 51)">c : Count</text><path fill="#f2f2f2" d="M60 84c0 8.008-6.492 14.5-14.5 14.5S31 92.008 31 84s6.492-14.5 14.5-14.5S60 75.992 60 84"></path><path fill="none" stroke="#000" d="M60 84c0 8.008-6.492 14.5-14.5 14.5S31 92.008 31 84s6.492-14.5 14.5-14.5S60 75.992 60 84z"></path><path fill="none" stroke="#000" d="M45.5 72v12l6 6"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="55" transform="translate(18 104)">(0, 100 msec)</text><path fill="#a6a6a6" d="M88 73h39l6 11-6 11H88l6-11z"></path><path fill="none" stroke="#737373" d="M88 73h39l6 11-6 11H88l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M60.5 84H94M133 84h6"></path><path d="m139 80 8 4-8 4z"></path><path fill="none" stroke="#000" d="m139 80 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(148 89)">y</text><path fill="none" stroke="#000" d="M247 84h12M147 84h27"></path><path d="m259 80 8 4-8 4z"></path><path fill="none" stroke="#000" d="m259 80 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(268 89)">y</text><path fill="none" stroke="#000" d="M267 84h27"></path></g></svg>
<p>The <code>Container</code> has a parameter named <code>stride</code>, whose value is passed to the <code>factor</code> parameter of the <code>Scale</code> reactor. The line</p>
<pre class="shiki"><code>  s.y -&gt; y;
</code></pre>
<p>establishes a connection across levels of the hierarchy. This propagates the output of a contained reactor to the output of the container. A similar notation may be used to propagate the input of a container to the input of a contained reactor,</p>
<pre class="shiki"><code>  x -&gt; s.x;
</code></pre>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connections-with-logical-delays">Connections with Logical Delays<a href="#connections-with-logical-delays" class="hash-link" aria-label="Direct link to Connections with Logical Delays" title="Direct link to Connections with Logical Delays">â€‹</a></h2>
<p>Connections may include a <strong>logical delay</strong> using the <code>after</code> keyword, as follows:</p>
<pre class="shiki"><code>  &lt;source_port_reference&gt; -&gt; &lt;destination_port_reference&gt; after &lt;time_value&gt;
</code></pre>
<p>where <code>&lt;time_value&gt;</code> can be any of the forms described in <a href="../../reference/expressions/index.html">Expressions</a>.</p>
<p>The <code>after</code> keyword specifies that the logical time of the event delivered to the destination port will be larger than the logical time of the reaction that wrote to source port. The time value is required to be non-negative, but it can be zero, in which case the input event at the receiving end will be one <a href="../superdense-time/index.html">microstep</a> later than the event that triggered it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="physical-connections">Physical Connections<a href="#physical-connections" class="hash-link" aria-label="Direct link to Physical Connections" title="Direct link to Physical Connections">â€‹</a></h2>
<p>A subtle and rarely used variant of the <code>-&gt;</code> connection is a <strong>physical connection</strong>, denoted <code>~&gt;</code>. For example:</p>
<pre class="shiki"><code>main reactor {
  a = new A();
  b = new B();
  a.y ~&gt; b.x;
}
</code></pre>
<p>This is rendered in by the diagram synthesizer as follows:</p>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="200" height="56" baseProfile="full" viewBox="0 0 152 56" role="img"><title>Lingua Franca diagram: PhysicalConnection</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Saturday, April 2, 2022 at 5:07:16 PM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h152.4v56H0z"></path><path fill="#fff" d="M.5 8.5v39a8 8 0 0 0 8 8h135.4a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v39a8 8 0 0 0 8 8h135.4a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="95" transform="translate(28.7 6)">PhysicalConnection</text><path fill="#f2f2f2" d="M112.9 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M112.9 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="22" transform="translate(118.4 30)">b : B</text><path d="m107.7 31 8 4-8 4z"></path><path fill="none" stroke="#000" d="m107.7 31 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(101.7 40)">x</text><path fill="#f2f2f2" d="M6.5 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v11a8 8 0 0 0 8 8h17a8 8 0 0 0 8-8v-11a8 8 0 0 0-8-8h-17a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="22" transform="translate(12 27)">a : A</text><path d="m36.7 31 8 4-8 4z"></path><path fill="none" stroke="#000" d="m36.7 31 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(45.7 40)">y</text><path fill="none" stroke="#000" d="M44.7 35h63"></path><path fill="#fff" d="M65.7 34.5v1h21v-1z"></path><path fill="none" stroke="#fff" d="M65.7 34.5v1h21v-1z"></path><path fill="none" stroke="#000" d="M65.04 35c1.66 0 2.76-8.5 4.86-.5s4.2 0 5.25-4 2.1 0 3.15 4 2.1 8 4.2 4 3.2-3.5 4.86-3.5"></path></g></svg>
<p>In such a connection, the logical time at the recipient is derived from the local physical clock rather than being equal to the logical time at the sender. The physical time will always exceed the logical time of the sender (unless fast is set to <code>true</code>), so this type of connection incurs a nondeterministic positive logical time delay. Physical connections are useful sometimes in <a href="../distributed-execution/index.html">Distributed-Execution</a> in situations where the nondeterministic logical delay is tolerable. Such connections are more efficient because timestamps need not be transmitted and messages do not need to flow through through a centralized coordinator (if a centralized coordinator is being used).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lf-lang/lf-lang.github.io/tree/master/versioned_docs/version-0.11.0/writing-reactors/composing-reactors.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../time-and-timers/index.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Time and Timers</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../reactions/index.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reactions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contained-reactors" class="table-of-contents__link toc-highlight">Contained Reactors</a></li><li><a href="#diagrams" class="table-of-contents__link toc-highlight">Diagrams</a></li><li><a href="#creating-reactor-instances" class="table-of-contents__link toc-highlight">Creating Reactor Instances</a></li><li><a href="#connections" class="table-of-contents__link toc-highlight">Connections</a></li><li><a href="#import-statement" class="table-of-contents__link toc-highlight">Import Statement</a></li><li><a href="#hierarchy" class="table-of-contents__link toc-highlight">Hierarchy</a></li><li><a href="#connections-with-logical-delays" class="table-of-contents__link toc-highlight">Connections with Logical Delays</a></li><li><a href="#physical-connections" class="table-of-contents__link toc-highlight">Physical Connections</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zulip.lf-lang.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../blog/index.html">Blog</a></li><li class="footer__item"><a href="https://github.com/lf-lang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 The Lingua Franca project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>