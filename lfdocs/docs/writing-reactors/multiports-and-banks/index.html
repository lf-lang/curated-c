<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.11.0 docs-doc-page docs-doc-id-writing-reactors/multiports-and-banks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Multiports and Banks | Lingua Franca</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" property="og:url" content="https://www.lf-lang.org/docs/writing-reactors/multiports-and-banks/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.11.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" name="docsearch:version" content="0.11.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" property="og:title" content="Multiports and Banks | Lingua Franca"><meta data-rh="true" name="description" content="Multiports and Banks of Reactors."><meta data-rh="true" property="og:description" content="Multiports and Banks of Reactors."><link data-rh="true" rel="icon" href="../../../img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.lf-lang.org/docs/writing-reactors/multiports-and-banks/"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/multiports-and-banks/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/multiports-and-banks/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U5IWIJW31Z-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="../../../blog/rss.xml" title="Lingua Franca RSS Feed">
<link rel="alternate" type="application/atom+xml" href="../../../blog/atom.xml" title="Lingua Franca Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Lingua Franca" href="../../../opensearch.xml"><link rel="stylesheet" href="../../../assets/css/styles.ba30d6af.css">
<script src="../../../assets/js/runtime~main.cb523eb3.js" defer="defer"></script>
<script src="../../../assets/js/main.0ff8ee1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img src="../../../img/lf-forlight.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/lf-fordark.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../index.html">Handbook</a><a class="navbar__item navbar__link" href="../../../blog/index.html">Blog</a><a class="navbar__item navbar__link" href="../../../research/index.html">Research</a><a class="navbar__item navbar__link" href="../../../community/index.html">Community</a><a class="navbar__item navbar__link" href="../../../events/index.html">Events</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="index.html">0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../next/writing-reactors/multiports-and-banks/index.html">Nightly ðŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="index.html">0.11.0</a></li><li><a class="dropdown__link" href="../../0.10.0/writing-reactors/multiports-and-banks/index.html">0.10.0</a></li><li><a class="dropdown__link" href="../../0.9.0/writing-reactors/multiports-and-banks/index.html">0.9.0</a></li><li><a class="dropdown__link" href="../../0.8.0/writing-reactors/multiports-and-banks/index.html">0.8.0</a></li><li><a class="dropdown__link" href="../../0.7.0/writing-reactors/multiports-and-banks/index.html">0.7.0</a></li><li><a class="dropdown__link" href="../../0.6.0/writing-reactors/multiports-and-banks/index.html">0.6.0</a></li><li><a class="dropdown__link" href="../../0.5.0/writing-reactors/multiports-and-banks/index.html">0.5.0</a></li></ul></div><a href="https://github.com/lf-lang/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.html">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../installation/index.html">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../videos/index.html">Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="../a-first-reactor/index.html">Writing Reactors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../a-first-reactor/index.html">A First Reactor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../inputs-and-outputs/index.html">Inputs and Outputs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../parameters-and-state-variables/index.html">Parameters and State Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../time-and-timers/index.html">Time and Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../composing-reactors/index.html">Composing Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reactions/index.html">Reactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reaction-declarations/index.html">Reaction Declarations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../methods/index.html">Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../causality-loops/index.html">Causality Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../extending-reactors/index.html">Extending Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../actions/index.html">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../superdense-time/index.html">Superdense Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../modal-models/index.html">Modal Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../deadlines/index.html">Deadlines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.html">Multiports and Banks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../generics/index.html">Generic Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../preambles/index.html">Preambles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../distributed-execution/index.html">Distributed Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../termination/index.html">Termination</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../tools/code-extension/index.html">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../reference/docker-support/index.html">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../embedded/arduino/index.html">Embedded Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../developer/contributing/index.html">Developer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../glossary/index.html">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Writing Reactors</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Multiports and Banks</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.11.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Multiports and Banks</h1></header><p>This article has examples in the following target languages:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rust</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">TypeScript</li></ul><div class="margin-top--md"></div></div>
<p>Lingua Franca provides a compact syntax for ports that can send or receive over multiple channels and another syntax for multiple instances of a reactor class. These are respectively called <strong>multiports</strong> and <strong>banks of reactors</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="multiports">Multiports<a href="#multiports" class="hash-link" aria-label="Direct link to Multiports" title="Direct link to Multiports">â€‹</a></h2>
<p>To declare an input or output port to be a <strong>multiport</strong>, use the following syntax:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>  input[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
  output[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>  input[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
  output[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>  input[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
  output[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>  input[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
  output[&lt;width&gt;] &lt;name&gt;:&lt;type&gt;;
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>  input[&lt;width&gt;] &lt;name&gt;
  output[&lt;width&gt;] &lt;name&gt;
</code></pre></div></div></div>
<p>where <code>&lt;width&gt;</code> is a positive integer. This can be given either as an integer literal or a parameter name. <span class="hidden_PYVj"> The width can also be given by target code enclosed in <code>{=...=}</code>.</span> Consider the following example:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C;
reactor Source {
  output[4] out:int;
  reaction(startup) -&gt; out {=
    for(int i = 0; i &lt; out_width; i++) {
      lf_set(out[i], i);
    }
  =}
}
reactor Destination {
  input[4] in:int;
  reaction(in) {=
    int sum = 0;
    for (int i = 0; i &lt; in_width; i++) {
      if (in[i]-&gt;is_present) sum += in[i]-&gt;value;
    }
    printf(&quot;Sum of received: %d.\n&quot;, sum);
  =}
}
main reactor {
  a = new Source();
  b = new Destination();
  a.out -&gt; b.in;
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp;
reactor Source {
  output[4] out:int;
  reaction(startup) -&gt; out {=
    for(auto i = 0ul; i &lt; out.size(); i++) {
      out[i].set(i);
    }
  =}
}
reactor Destination {
  input[4] in:int;
  reaction(in) {=
    int sum = 0;
    for (auto i = 0ul; i &lt; in.size(); i++) {
      if (in[i].is_present()){
        sum += *in[i].get();
      }
    }
    std::cout &lt;&lt; &quot;Sum of received: &quot; &lt;&lt; sum &lt;&lt; std::endl;
  =}
}
main reactor {
  a = new Source();
  b = new Destination();
  a.out -&gt; b.in;
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python;
reactor Source {
  output[4] out;
  reaction(startup) -&gt; out {=
    for i, port in enumerate(out):
      port.set(i)
  =}
}
reactor Destination {
  input[4] inp;
  reaction(inp) {=
    sum = 0
    for port in inp:
      if port.is_present: sum += port.value
    print(f&quot;Sum of received: {sum}.&quot;)
  =}
}
main reactor {
  a = new Source();
  b = new Destination();
  a.out -&gt; b.inp;
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust;
reactor Source {
  output[4] out:usize;
  reaction(startup) -&gt; out {=
    for (i, o) in out.into_iter().enumerate() {
      ctx.set(o, i);
    }
  =}
}
reactor Destination {
  input[4] inp:usize;
  reaction(inp) {=
    let mut sum = 0;
    for i in inp {
      if let Some(v) = ctx.get(&amp;i) {
        sum += v;
      }
    }
    println!(&quot;Sum of received: {}.&quot;, sum);
  =}
}
main reactor {
  a = new Source();
  b = new Destination();
  a.out -&gt; b.inp;
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript
reactor Source {
  output[4] out:number
  reaction(startup) -&gt; out {=
    for (let i = 0 ; i &lt; out.length; i++) {
      out[i] = i
    }
  =}
}
reactor Destination {
  input[4] inp:number
  reaction(inp) {=
    let sum = 0
    for (let i = 0 ; i &lt; inp.length; i++) {
      const val = inp[i]
      if (val) sum += val
    }
    console.log(`Sum of received: ${sum}`)
  =}
}
main reactor {
  a = new Source()
  b = new Destination()
  a.out -&gt; b.inp
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="300" height="83" baseProfile="full" viewBox="0 0 243 83" role="img"><title>Lingua Franca diagram: Multiport</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 11:08:08 AM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h242.6v83H0z"></path><path fill="#fff" d="M.5 8.5v66a8 8 0 0 0 8 8h225.6a8 8 0 0 0 8-8v-66a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v66a8 8 0 0 0 8 8h225.6a8 8 0 0 0 8-8v-66a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="44" transform="translate(99.3 6)">Multiport</text><path fill="#f2f2f2" d="M6.5 29.5v39a8 8 0 0 0 8 8h75.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v39a8 8 0 0 0 8 8h75.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="34" transform="translate(35.3 27)">Source</text><path fill="#fff" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#737373" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M30 56h21M90 56h6"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(105 61)">out[4]</text><path fill="#fff" d="m96 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m96 52.6 6.8 3.4-6.8 3.4z"></path><path fill="#f2f2f2" d="M170.1 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M170.1 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="55" transform="translate(175.6 27)">Destination</text><path fill="#a6a6a6" d="M179 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M179 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M173 56h12"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="19" transform="translate(145 61)">in[4]</text><path fill="#fff" d="m165 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m165 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-linecap="square" stroke-width="2.2" d="M104 56h61"></path></g></svg>
<p>Executing this program will yield:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Sum of received: 6.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>Source</code> reactor has a four-way multiport output and the <code>Destination</code> reactor has a four-way multiport input. These channels are connected all at once on one line, the second line from the last. Notice that the generated diagram shows multiports with hollow triangles. Whether it shows the widths is controlled by an option in the diagram generator.</p>
<p>The <code>Source</code> reactor specifies <code>out</code> as an effect of its reaction using the syntax <code>-&gt; out</code>. This brings into scope of the reaction body a way to access the width of the port and a way to write to each channel of the port.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In <code>Destination</code>, the reaction is triggered by <code>in</code>, not by some individual channel of the multiport input. Hence, it is important when using multiport inputs to test for presence of the input on each channel, as done above with the syntax:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">in</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">is_present</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">in</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">is_present</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> port</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_present</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-rs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rs codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if let Some(v) = ctx.get(&amp;i) ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Or using is_present() </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ctx.is_present(&amp;inp[0]) ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div></div></div>
<p>An event on any one of the channels is sufficient to trigger the reaction.</p>
<div class="hidden_PYVj"><p>In the Python target, multiports can be iterated on in a for loop (e.g., <code>for p in out</code>) or enumerated (e.g., <code>for i, p in enumerate(out)</code>) and the length of the multiport can be obtained by using the <code>len()</code> (e.g., <code>len(out)</code>) expression.</p></div>
<div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sparse-inputs">Sparse Inputs<a href="#sparse-inputs" class="hash-link" aria-label="Direct link to Sparse Inputs" title="Direct link to Sparse Inputs">â€‹</a></h2><p>Sometimes, a program needs a wide multiport input, but when reactions are triggered by this input, few of the channels are present.
In this case, it can be inefficient to iterate over all the channels to determine which are present.
If you know that a multiport input will be <strong>sparse</strong> in this way, then you can use a more efficient iterator to access the port. For example:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C;
reactor Sparse {
  input[100] in: int
  reaction(in) {=
    // Create an iterator over the input channels.
    struct lf_multiport_iterator_t i = lf_multiport_iterator(in);
    // Get the least index of a channel with present inputs.
    int channel = lf_multiport_next(&amp;i);
    // Iterate until no more channels have present inputs.
    while(channel &gt;= 0) {
      printf(&quot;Received %d on channel %d\n&quot;, in[channel]-&gt;value, channel);
      // Get the next channel with a present input.
      channel = lf_multiport_next(&amp;i);
    }
  =}
}
</code></pre></div></div></div><p>Instead of iterating over all input channels, this code uses the built-in function <code>lf_multiport_iterator()</code> to construct an iterator. The function <code>lf_multiport_next()</code> returns the first (and later, the next) channel index that is present. It returns -1 when no more channels have present inputs.</p></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameterized-widths">Parameterized Widths<a href="#parameterized-widths" class="hash-link" aria-label="Direct link to Parameterized Widths" title="Direct link to Parameterized Widths">â€‹</a></h2>
<p>The width of a port may be given by a parameter. For example, the above <code>Source</code> reactor can be rewritten</p>
<pre class="shiki"><code>reactor Source(width:int = 4) {
  output[width] out:int;
  reaction(startup) -&gt; out {=
    ...
  =}
}
</code></pre>
<div class="hidden_PYVj"><p>Parameters to the main reactor can be overwritten on the command line interface when running the generated program. As a consequence, the scale of the application can be determined at run time rather than at compile time.</p></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-reactors-with-different-widths">Connecting Reactors with Different Widths<a href="#connecting-reactors-with-different-widths" class="hash-link" aria-label="Direct link to Connecting Reactors with Different Widths" title="Direct link to Connecting Reactors with Different Widths">â€‹</a></h2>
<p>Assume that the <code>Source</code> and <code>Destination</code> reactors above both use a parameter <code>width</code> to specify the width of their ports. Then the following connection is valid:</p>
<pre class="shiki"><code>main reactor {
  a1 = new Source(width = 3);
  a2 = new Source(width = 2);
  b = new Destination(width = 5);
  a1.out, a2.out -&gt; b.in;
}
</code></pre>
<p>The first three ports of <code>b</code> will received input from <code>a1</code>, and the last two ports will receive input from <code>a2</code>. Parallel composition can appear on either side of a connection. For example:</p>
<pre class="shiki"><code>  a1.out, a2.out -&gt; b1.out, b2.out, b3.out;
</code></pre>
<p>If the total width on the left does not match the total width on the right, then a warning is issued. If the left side is wider than the right, then output data will be discarded. If the right side is wider than the left, then input channels will be absent.</p>
<p>Any given port can appear only once on the right side of the <code>-&gt;</code> connection operator, so all connections to a multiport destination must be made in one single connection statement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="banks-of-reactors">Banks of Reactors<a href="#banks-of-reactors" class="hash-link" aria-label="Direct link to Banks of Reactors" title="Direct link to Banks of Reactors">â€‹</a></h2>
<p>Using a similar notation, it is possible to create a bank of reactors. For example, we can create a bank of four instances of <code>Source</code> and four instances of <code>Destination</code> and connect them as follows:</p>
<pre class="shiki"><code>main reactor {
  a = new[4] Source();
  b = new[4] Destination();
  a.out -&gt; b.in;
}
</code></pre>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="300" height="92" baseProfile="full" viewBox="0 0 255 92" role="img"><title>Lingua Franca diagram: BankToBankMultiport</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 1:32:34 PM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h254.6v92H0z"></path><path fill="#fff" d="M.5 8.5v75a8 8 0 0 0 8 8h237.6a8 8 0 0 0 8-8v-75a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v75a8 8 0 0 0 8 8h237.6a8 8 0 0 0 8-8v-75a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="44" transform="translate(105.3 6)">Multiport</text><path fill="#f2f2f2" d="M12.5 38.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 38.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M10.5 35.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H18.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M10.5 35.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H18.5a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M8.5 32.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H16.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M8.5 32.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H16.5a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M6.5 29.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v39a8 8 0 0 0 8 8h81.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="34" transform="translate(38.3 27)">Source</text><path fill="#fff" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#737373" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M30 56h21M90 56h12"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(18 78.5)">4</text><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(111 61)">out[4]</text><path fill="#fff" d="m102 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m102 52.6 6.8 3.4-6.8 3.4z"></path><path fill="#f2f2f2" d="M182.1 38.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M182.1 38.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M180.1 35.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M180.1 35.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M178.1 32.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M178.1 32.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M176.1 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M176.1 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="55" transform="translate(181.6 27)">Destination</text><path fill="#a6a6a6" d="M185 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M185 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M179 56h12"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(187.6 78.5)">4</text><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="19" transform="translate(151 61)">in[4]</text><path fill="#fff" d="m171 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m171 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-linecap="square" stroke-width="2.2" d="M110 56h61"></path></g></svg>
<p>If the <code>Source</code> and <code>Destination</code> reactors have multiport inputs and outputs, as in the examples above, then a warning will be issued if the total width on the left does not match the total width on the right. For example, the following is balanced:</p>
<pre class="shiki"><code>main reactor {
  a = new[3] Source(width = 4);
  b = new[4] Destination(width = 3);
  a.out -&gt; b.in;
}
</code></pre>
<p>There will be three instances of <code>Source</code>, each with an output of width four, and four instances of <code>Destination</code>, each with an input of width 3, for a total of 12 connections.</p>
<p>To distinguish the instances in a bank of reactors, the reactor can define a parameter called <strong>bank_index</strong><span class="lf-c lf-cpp lf-rs"> with any type that can be assigned a non-negative integer value (for example, <code>int</code>, <code>size_t</code>, or <code>uint32_t</code>)</span>. If such a parameter is defined for the reactor, then when the reactor is instantiated in a bank, each instance will be assigned a number between 0 and <em>n</em>-1, where <em>n</em> is the number of reactor instances in the bank. For example, the following source reactor increments the output it produces by the value of <code>bank_index</code> on each reaction to the timer:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor MultiportSource(bank_index: int = 0) {
  timer t(0, 200 msec)
  output out: int
  state s: int = 0

  reaction(t) -&gt; out {=
    lf_set(out, self-&gt;s);
    self-&gt;s += self-&gt;bank_index;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

reactor MultiportSource(bank_index: int(0)) {
  timer t(0, 200 ms)
  output out: int
  state s: int(0)

  reaction(t) -&gt; out {=
    out.set(s);
    s += bank_index;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

reactor MultiportSource(bank_index=0) {
  timer t(0, 200 msec)
  output out
  state s = 0

  reaction(t) -&gt; out {=
    out.set(self.s)
    self.s += self.bank_index
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

reactor MultiportSource(bank_index: u32 = 0) {
  state bank_index = bank_index
  timer t(0, 200 msec)
  output out: u32
  state s: u32 = 0

  reaction(t) -&gt; out {=
    ctx.set(out, self.s);
    self.s += self.bank_index;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

reactor MultiportSource {
  timer t(0, 200 msec)
  output out: number
  state s: number = 0

  reaction(t) -&gt; out {=
    out = s
    s += this.getBankIndex()
  =}
}
</code></pre></div></div></div>
<p>The width of a bank may also be given by a parameter, as in</p>
<pre class="shiki"><code>main reactor(
  source_bank_width:int = 3,
  destination_bank_width:int = 4
) {
  a = new[source_bank_width] Source(width = 4);
  b = new[destination_bank_width] Destination(width = 3);
  a.out -&gt; b.in;
}
</code></pre>
<div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-bank-members-from-a-table">Initializing Bank Members from a Table<a href="#initializing-bank-members-from-a-table" class="hash-link" aria-label="Direct link to Initializing Bank Members from a Table" title="Direct link to Initializing Bank Members from a Table">â€‹</a></h2><p>It is often convenient to initialize parameters of bank members from a table.
Here is an example:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C;
reactor A(bank_index:int = 0, value:int = 0) {
  reaction (startup) {=
    printf(&quot;bank_index: %d, value: %d\n&quot;, self-&gt;bank_index, self-&gt;value);
  =}
}
main reactor(
  table: int[] = {4, 3, 2, 1}
) {
  a = new[4] A(value = {= self-&gt;table[bank_index] =});
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python;
reactor A(bank_index = 0, value = 0) {
  reaction (startup) {=
    print(&quot;bank_index: {:d}, value: {:d}&quot;.format(self.bank_index, self.value))
  =}
}
main reactor(
  table = [4, 3, 2, 1]
) {
  a = new[4] A(value = {= self.table[bank_index] =})
}
</code></pre></div></div></div><p>The parameter <code>table</code> defined in the <code>main reactor</code> is used to initialize the <code>value</code> parameter of each bank member. The result of running this is something like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bank_index: 0, value: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bank_index: 1, value: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bank_index: 2, value: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bank_index: 3, value: 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="contained-banks">Contained Banks<a href="#contained-banks" class="hash-link" aria-label="Direct link to Contained Banks" title="Direct link to Contained Banks">â€‹</a></h2>
<p>Banks of reactors can be nested. For example, note the following program:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C;
reactor Child (
  bank_index:int = 0
) {
  reaction(startup) {=
    printf(&quot;My bank index: %d.\n&quot;, self-&gt;bank_index);
  =}
}
reactor Parent (
  bank_index:int = 0
) {
  c = new[2] Child();
}
main reactor {
  p = new[2] Parent();
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp;
reactor Child (
  bank_index:int = 0
) {
  reaction(startup) {=
    std::cout &lt;&lt; &quot;My bank index:&quot; &lt;&lt; bank_index &lt;&lt; std::endl;
  =}
}
reactor Parent (
  bank_index:int = 0
) {
  c = new[2] Child();
}
main reactor {
  p = new[2] Parent();
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python;
reactor Child (
  bank_index = 0
) {
  reaction(startup) {=
    print(f&quot;My bank index: {self.bank_index}.&quot;)
  =}
}
reactor Parent (
  bank_index = 0
) {
  c = new[2] Child();
}
main reactor {
  p = new[2] Parent();
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust;
reactor Child (
  bank_index:usize = 0
) {
  state bank_index = bank_index;

  reaction(startup) {=
    println!(&quot;My bank index: {}.&quot;, self.bank_index);
  =}
}
reactor Parent (
  bank_index:usize = 0
) {
  c = new[2] Child();
}
main reactor {
  p = new[2] Parent();
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript
reactor Child {
  reaction(startup) {=
    console.log(`My bank index ${this.getBankIndex()}`)
  =}
}
reactor Parent {
  c = new[2] Child()
}
main reactor {
  p = new[2] Parent()
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="150" height="127" baseProfile="full" viewBox="0 0 126 127" role="img"><title>Lingua Franca diagram: ChildBank</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 11:29:37 AM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h126v127H0z"></path><path fill="#fff" d="M.5 8.5v110a8 8 0 0 0 8 8h109a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v110a8 8 0 0 0 8 8h109a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="49" transform="translate(38.5 6)">ChildBank</text><path fill="#f2f2f2" d="M12.5 38.5v74a8 8 0 0 0 8 8h91a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-91a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 38.5v74a8 8 0 0 0 8 8h91a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-91a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M6.5 29.5v74a8 8 0 0 0 8 8h91a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-91a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v74a8 8 0 0 0 8 8h91a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-91a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="32" transform="translate(44 27)">Parent</text><path fill="#f2f2f2" d="M18.5 62.5v35a8 8 0 0 0 8 8h73a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8h-73a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M18.5 62.5v35a8 8 0 0 0 8 8h73a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8h-73a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M12.5 53.5v35a8 8 0 0 0 8 8h73a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8h-73a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 53.5v35a8 8 0 0 0 8 8h73a8 8 0 0 0 8-8v-35a8 8 0 0 0-8-8h-73a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(44.5 51)">Child</text><path fill="#fff" d="M35.5 80a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M35.5 80a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M51 69h39l6 11-6 11H51l6-11z"></path><path fill="none" stroke="#737373" d="M51 69h39l6 11-6 11H51l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M36 80h21"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="4" transform="translate(24 98.5)">2</text><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="4" transform="translate(18 113.5)">2</text></g></svg>
<p>In this program, the <code>Parent</code> reactor contains a bank of <code>Child</code> reactor instances
with a width of 2. In the main reactor, a bank of <code>Parent</code> reactors is
instantiated with a width of 2, therefore, creating 4 <code>Child</code> instances in the program in total.
The output of this program will be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 1.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The order of these outputs will be nondeterministic if the execution is multithreaded (which it will be by default) because there is no dependence between the reactions, and, hence, they can execute in parallel.</p>
<p>The bank index of a container (parent) reactor can be passed down to
contained (child) reactors. For example, note the following program:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor Child(bank_index: int = 0, parent_bank_index: int = 0) {
  reaction(startup) {=
    printf(
        &quot;My bank index: %d. My parent&#x27;s bank index: %d.\n&quot;,
        self-&gt;bank_index, self-&gt;parent_bank_index
    );
  =}
}

reactor Parent(bank_index: int = 0) {
  c = new[2] Child(parent_bank_index=bank_index)
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

reactor Child(bank_index: int(0), parent_bank_index: int(0)) {
  reaction(startup) {=
    std::cout &lt;&lt;&quot;My bank index: &quot; &lt;&lt; bank_index &lt;&lt; &quot; My parent&#x27;s bank index: &quot; &lt;&lt; parent_bank_index &lt;&lt; std::endl;
  =}
}

reactor Parent(bank_index: int(0)) {
  c = new[2] Child(parent_bank_index=bank_index)
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

reactor Child(bank_index=0, parent_bank_index=0) {
  reaction(startup) {=
    print(
        f&quot;My bank index: {self.bank_index}. &quot;
        f&quot;My parent&#x27;s bank index: {self.parent_bank_index}.&quot;
    )
  =}
}

reactor Parent(bank_index=0) {
  c = new[2] Child(parent_bank_index=bank_index)
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

reactor Child(bank_index: usize = 0, parent_bank_index: usize = 0) {
  state bank_index = bank_index
  state parent_bank_index = parent_bank_index

  reaction(startup) {=
    println!(
        &quot;My bank index: {}. My parent&#x27;s bank index: {}.&quot;,
        self.bank_index,
        self.parent_bank_index,
    );
  =}
}

reactor Parent(bank_index: usize = 0) {
  c = new[2] Child(parent_bank_index=bank_index)
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

reactor Child(parentBankIndex: number = 0) {
  reaction(startup) {=
    console.log(`My bank index: ${this.getBankIndex()} My parent&#x27;s bank index: ${parentBankIndex}`)
  =}
}

reactor Parent {
  c = new[2] Child(parentBankIndex = {= this.getBankIndex() =})
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div></div></div>
<p>In this example, the bank index of the <code>Parent</code> reactor is passed to the
<code>parent_bank_index</code> parameter of the <code>Child</code> reactor instances.
The output from this program will be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 1. My parent&#x27;s bank index: 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 0. My parent&#x27;s bank index: 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 0. My parent&#x27;s bank index: 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">My bank index: 1. My parent&#x27;s bank index: 0.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, note that the order of these outputs is nondeterministic.</p>
<p>Finally, members of contained banks of reactors can be individually addressed in
the body of reactions of the parent reactor if their input/output port appears
in the reaction signature. For example, note the following program:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor Child(bank_index: int = 0, parent_bank_index: int = 0) {
  output out: int

  reaction(startup) -&gt; out {=
    lf_set(out, self-&gt;parent_bank_index * 2 + self-&gt;bank_index);
  =}
}

reactor Parent(bank_index: int = 0) {
  c = new[2] Child(parent_bank_index=bank_index)

  reaction(c.out) {=
    for (int i=0; i &lt; c_width; i++) {
        printf(&quot;Received %d from child %d.\n&quot;, c[i].out-&gt;value, i);
    }
  =}
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

reactor Child(bank_index: int(0), parent_bank_index: int(0)) {
  output out: int

  reaction(startup) -&gt; out {=
    out.set(parent_bank_index * 2 + bank_index);
  =}
}

reactor Parent(bank_index: int(0)) {
  c = new[2] Child(parent_bank_index=bank_index)

  reaction(c.out) {=
    for (auto i = 0ul; i &lt; c.size(); i++) {
        std::cout &lt;&lt; &quot;Received &quot; &lt;&lt; *c[i].out.get() &lt;&lt;&quot; from child &quot; &lt;&lt; i &lt;&lt; std::endl;
    }
  =}
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

reactor Child(bank_index=0, parent_bank_index=0) {
  output out

  reaction(startup) -&gt; out {=
    out.set(self.parent_bank_index * 2 + self.bank_index)
  =}
}

reactor Parent(bank_index=0) {
  c = new[2] Child(parent_bank_index=bank_index)

  reaction(c.out) {=
    for i, child in enumerate(c):
        print(f&quot;Received {child.out.value} from child {i}.&quot;)
  =}
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>ChildParentBank2.lf missing for Rust</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

reactor Child(parentBankIndex: number = 0) {
  output out: number

  reaction(startup) -&gt; out {=
    out = parentBankIndex * 2 + this.getBankIndex()
  =}
}

reactor Parent {
  c = new[2] Child(parentBankIndex = {= this.getBankIndex() =})

  reaction(c.out) {=
    for (let i = 0; i &lt; c.length; i++) {
        console.log(`Received ${c[i].out} from child ${i}`)
    }
  =}
}

main reactor {
  p = new[2] Parent()
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="250" height="131" baseProfile="full" viewBox="0 0 208 131" role="img"><title>Lingua Franca diagram: ChildParentBank2</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 11:41:56 AM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h208v131H0z"></path><path fill="#fff" d="M.5 8.5v114a8 8 0 0 0 8 8h191a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v114a8 8 0 0 0 8 8h191a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="86" transform="translate(61 6)">ChildParentBank2</text><path fill="#f2f2f2" d="M12.5 38.5v78a8 8 0 0 0 8 8h173a8 8 0 0 0 8-8v-78a8 8 0 0 0-8-8h-173a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 38.5v78a8 8 0 0 0 8 8h173a8 8 0 0 0 8-8v-78a8 8 0 0 0-8-8h-173a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M6.5 29.5v78a8 8 0 0 0 8 8h173a8 8 0 0 0 8-8v-78a8 8 0 0 0-8-8h-173a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v78a8 8 0 0 0 8 8h173a8 8 0 0 0 8-8v-78a8 8 0 0 0-8-8h-173a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="32" transform="translate(85 27)">Parent</text><path fill="#f2f2f2" d="M18.5 62.5v39a8 8 0 0 0 8 8h82.3a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H26.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M18.5 62.5v39a8 8 0 0 0 8 8h82.3a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H26.5a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M12.5 53.5v39a8 8 0 0 0 8 8h82.3a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M12.5 53.5v39a8 8 0 0 0 8 8h82.3a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H20.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(49.15 51)">Child</text><path fill="#fff" d="M35.5 80a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M35.5 80a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M51 69h39l6 11-6 11H51l6-11z"></path><path fill="none" stroke="#737373" d="M51 69h39l6 11-6 11H51l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M36 80h21M96 80h12"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="4" transform="translate(24 102.5)">2</text><path d="m108 76 8 4-8 4z"></path><path fill="none" stroke="#000" d="m108 76 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="13" transform="translate(117 85)">out</text><path fill="#a6a6a6" d="M145 69h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M145 69h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M116 80h35"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="4" transform="translate(18 117.5)">2</text></g></svg>
<p>Running this program will give something like the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Received 0 from child 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Received 1 from child 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Received 2 from child 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Received 3 from child 1.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Note the usage of <code>c_width</code>, which holds the width of the <code>c</code> bank of reactors.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Note that <code>len(c)</code> can be used to get the width of the bank, and <code>for p in c</code> or <code>for (i, p) in enumerate(c)</code> can be used to iterate over the bank members.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Note that <code>c.size()</code> can be used to get the width of the bank <code>c</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Note that that bank instance <code>c</code> in TypeScript is an array, so <code>c.length</code> is the width of the bank, and the bank members are referenced by indexing the array, as in <code>c[i]</code>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>FIXME: How to get the width of the bank in target code?</p></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="combining-banks-and-multiports">Combining Banks and Multiports<a href="#combining-banks-and-multiports" class="hash-link" aria-label="Direct link to Combining Banks and Multiports" title="Direct link to Combining Banks and Multiports">â€‹</a></h2>
<p>Banks of reactors may be combined with multiports, as in the following example:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor Source {
  output[3] out: int

  reaction(startup) -&gt; out {=
    for(int i = 0; i &lt; out_width; i++) {
      lf_set(out[i], i);
    }
  =}
}

reactor Destination(bank_index: int = 0) {
  input in: int

  reaction(in) {=
    printf(&quot;Destination %d received %d.\n&quot;, self-&gt;bank_index, in-&gt;value);
  =}
}

main reactor MultiportToBank {
  a = new Source()
  b = new[3] Destination()
  a.out -&gt; b.in
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

reactor Source {
  output[3] out: int

  reaction(startup) -&gt; out {=
    for(int i = 0; i &lt; out.size(); i++) {
      out[i].set(i);
    }
  =}
}

reactor Destination(bank_index: int(0)) {
  input in: int

  reaction(in) {=
    std::cout &lt;&lt; &quot;Destination &quot; &lt;&lt; bank_index &lt;&lt; &quot; received &quot; &lt;&lt; *in.get() &lt;&lt; std::endl;
  =}
}

main reactor MultiportToBank {
  a = new Source()
  b = new[3] Destination()
  a.out -&gt; b.in
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

reactor Source {
  output[3] out

  reaction(startup) -&gt; out {=
    for i, port in enumerate(out):
      port.set(i)
  =}
}

reactor Destination(bank_index=0) {
  input inp

  reaction(inp) {=
    print(f&quot;Destination {self.bank_index} received {inp.value}.&quot;)
  =}
}

main reactor MultiportToBank {
  a = new Source()
  b = new[3] Destination()
  a.out -&gt; b.inp
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

reactor Source {
  output[3] out: usize

  reaction(startup) -&gt; out {=
    for (i, o) in out.into_iter().enumerate() {
      ctx.set(o, i);
    }
  =}
}

reactor Destination(bank_index: usize = 0) {
  state bank_index = bank_index
  input inp: usize

  reaction(inp) {=
    println!(
        &quot;Destination {} received {}.&quot;,
        self.bank_index,
        ctx.get(inp).unwrap(),
    );
  =}
}

main reactor MultiportToBank {
  a = new Source()
  b = new[3] Destination()
  a.out -&gt; b.inp
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

reactor Source {
  output[3] out: number

  reaction(startup) -&gt; out {=
     for (let i = 0 ; i &lt; out.length; i++) {
        out[i] = i
    }
  =}
}

reactor Destination {
  input inp: number

  reaction(inp) {=
    console.log(`Destination ${this.getBankIndex()} received ${inp}`)
  =}
}

main reactor MultiportToBank {
  a = new Source()
  b = new[3] Destination()
  a.out -&gt; b.inp
}
</code></pre></div></div></div>
<!-- -->
<svg xmlns="http://www.w3.org/2000/svg" width="300" height="92" baseProfile="full" viewBox="0 0 238 92" role="img"><title>Lingua Franca diagram: MultiportToBank</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 11:48:50 AM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h237.7v92H0z"></path><path fill="#fff" d="M.5 8.5v75a8 8 0 0 0 8 8h220.7a8 8 0 0 0 8-8v-75a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v75a8 8 0 0 0 8 8h220.7a8 8 0 0 0 8-8v-75a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="79" transform="translate(79.35 6)">MultiportToBank</text><path fill="#f2f2f2" d="M6.5 29.5v39a8 8 0 0 0 8 8h75.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M6.5 29.5v39a8 8 0 0 0 8 8h75.6a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8H14.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="34" transform="translate(35.3 27)">Source</text><path fill="#fff" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M29.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#737373" d="M45 45h39l6 11-6 11H45l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M30 56h21M90 56h6"></path><path fill="#fff" d="m96 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m96 52.6 6.8 3.4-6.8 3.4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(105 61)">out[3]</text><path fill="#f2f2f2" d="M165.2 38.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M165.2 38.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M162.2 34v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8V34a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M162.2 34v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8V34a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M159.2 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M159.2 29.5v39a8 8 0 0 0 8 8h50a8 8 0 0 0 8-8v-39a8 8 0 0 0-8-8h-50a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="55" transform="translate(164.7 27)">Destination</text><path fill="#a6a6a6" d="M168 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M168 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M162 56h12"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(170.7 78.5)">3</text><path d="m154 52 8 4-8 4z"></path><path fill="none" stroke="#000" d="m154 52 8 4-8 4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="8" transform="translate(145 61)">in</text><path fill="none" stroke="#000" stroke-linecap="square" stroke-width="2.2" d="M104 56h50"></path></g></svg>
<p>The three outputs from the <code>Source</code> instance <code>a</code> will be sent, respectively, to each of three instances of <code>Destination</code>, <code>b[0]</code>, <code>b[1]</code>, and <code>b[2]</code>. The result of the program will be something like the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Destination 0 received 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Destination 1 received 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Destination 2 received 2.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, the order is nondeterministic in a multithreaded context.</p>
<p>The reactors in a bank may themselves have multiports. In all cases, the number of ports on the left of a connection must match the number on the right, unless the ones on the left are iterated, as explained next.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="broadcast-connections">Broadcast Connections<a href="#broadcast-connections" class="hash-link" aria-label="Direct link to Broadcast Connections" title="Direct link to Broadcast Connections">â€‹</a></h2>
<p>Occasionally, you will want to have fewer ports on the left of a connection and have their outputs used repeatedly to broadcast to the ports on the right. In the following example, the outputs from an ordinary port are broadcast to the inputs of all instances of a bank of reactors:</p>
<pre class="shiki"><code>reactor Source {
  output out:int;
  reaction(startup) -&gt; out {=
    ... write to out ...
  =}
}
reactor Destination {
  input in:int;
  reaction(in) {=
    ... read from in ...
  =}
}
main reactor ThreadedThreaded(width:int(4)) {
  a = new Source();
  d = new[width] Destination();
  (a.out)+ -&gt; d.in;
}
</code></pre>
<p>The syntax <code>(a.out)+</code> means &quot;repeat the output port <code>a.out</code> one or more times as needed to supply all the input ports of <code>d.in</code>.&quot; The content inside the parentheses can be a comma-separated list of ports, the ports inside can be ordinary ports or multiports, and the reactors inside can be ordinary reactors or banks of reactors. In all cases, the number of ports inside the parentheses on the left must divide the number of ports on the right.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interleaved-connections">Interleaved Connections<a href="#interleaved-connections" class="hash-link" aria-label="Direct link to Interleaved Connections" title="Direct link to Interleaved Connections">â€‹</a></h2>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Sometimes, we don&#x27;t want to broadcast messages to all reactors, but need more fine-grained control as to which reactor within a bank receives a message. If we have separate source and destination reactors, this can be done by combining multiports and banks as was shown in <a href="#combining-banks-and-multiports">Combining Banks and Multiports</a>. Setting a value on the index <em>n</em> of the output multiport, will result in a message to the <em>n</em>-th reactor instance within the destination bank. However, this pattern gets slightly more complicated, if we want to exchange addressable messages between instances of the same bank. This pattern is shown in the following example:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor Node(num_nodes: size_t = 4, bank_index: int = 0) {
  input[num_nodes] in: int
  output[num_nodes] out: int

  reaction(startup) -&gt; out {=
    lf_set(out[1], 42);
    printf(&quot;Bank index %d sent 42 on channel 1.\n&quot;, self-&gt;bank_index);
  =}

  reaction(in) {=
    for (int i = 0; i &lt; in_width; i++) {
      if (in[i]-&gt;is_present) {
        printf(&quot;Bank index %d received %d on channel %d.\n&quot;,
          self-&gt;bank_index, in[i]-&gt;value, i
        );
      }
    }
  =}
}

main reactor(num_nodes: size_t = 4) {
  nodes = new[num_nodes] Node(num_nodes=num_nodes)
  nodes.out -&gt; interleaved(nodes.in)
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>target Cpp

reactor Node(num_nodes: size_t(4), bank_index: int(0)) {
  input[num_nodes] in: int
  output[num_nodes] out: int

  reaction(startup) -&gt; out {=
    out[1].set(42);
    std::cout &lt;&lt; &quot;Bank index &quot; &lt;&lt; bank_index &lt;&lt; &quot; sent 42 on channel 1.&quot; &lt;&lt; std::endl;
  =}

  reaction(in) {=
    for (auto i = 0ul; i &lt; in.size(); i++) {
      if (in[i].is_present()) {
        std::cout &lt;&lt; &quot;Bank index &quot; &lt;&lt; bank_index
          &lt;&lt; &quot; received &quot; &lt;&lt; *in[i].get() &lt;&lt; &quot; on channel&quot; &lt;&lt; std::endl;
      }
    }
  =}
}

main reactor(num_nodes: size_t(4)) {
  nodes = new[num_nodes] Node(num_nodes=num_nodes)
  nodes.out -&gt; interleaved(nodes.in)
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><pre class="shiki"><code>target Python

reactor Node(num_nodes=4, bank_index=0) {
  input[num_nodes] inp
  output[num_nodes] out

  reaction(startup) -&gt; out {=
    out[1].set(42)
    print(f&quot;Bank index {self.bank_index} sent 42 on channel 1.&quot;)
  =}

  reaction(inp) {=
    for i, port in enumerate(inp):
      if port.is_present:
        print(
          f&quot;Bank index {self.bank_index} received {port.value} on channel {i}.&quot;,
        )
  =}
}

main reactor(num_nodes=4) {
  nodes = new[num_nodes] Node(num_nodes=num_nodes)
  nodes.out -&gt; interleaved(nodes.inp)
}
</code></pre></div></div></div><svg xmlns="http://www.w3.org/2000/svg" width="250" height="137" baseProfile="full" viewBox="0 0 217 137" role="img"><title>Lingua Franca diagram: Interleaved</title><desc>Creator: FreeHEP Graphics2D Driver Producer: de.cau.cs.kieler.klighd.piccolo.freehep.SemanticSVGGraphics2D Revision Source:  Date: Sunday, April 10, 2022 at 1:10:16 PM Pacific Daylight Time</desc><g stroke-miterlimit="10"><path fill="#fff" d="M0 0h217v137H0z"></path><path fill="#fff" d="M.5 8.5v120a8 8 0 0 0 8 8h200a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M.5 8.5v120a8 8 0 0 0 8 8h200a8 8 0 0 0 8-8V8.5a8 8 0 0 0-8-8H8.5a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="54" transform="translate(81.5 6)">Interleaved</text><path fill="#f2f2f2" d="M47.1 38.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M47.1 38.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M45.1 35.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M45.1 35.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M43.1 32.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M43.1 32.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8z"></path><path fill="#f2f2f2" d="M41.1 29.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8"></path><path fill="none" stroke="#bebebe" d="M41.1 29.5v74a8 8 0 0 0 8 8h112a8 8 0 0 0 8-8v-74a8 8 0 0 0-8-8h-112a8 8 0 0 0-8 8z"></path><text y="10" font-family="Helvetica" font-size="10" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="26" transform="translate(92.1 27)">Node</text><path fill="#fff" d="M94.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0"></path><path fill="none" stroke="#000" d="M94.5 56a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"></path><path fill="#a6a6a6" d="M110 45h39l6 11-6 11h-39l6-11z"></path><path fill="none" stroke="#737373" d="M110 45h39l6 11-6 11h-39l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(130 50)">1</text><path fill="#a6a6a6" d="M50 80h39l6 11-6 11H50l6-11z"></path><path fill="none" stroke="#737373" d="M50 80h39l6 11-6 11H50l6-11z"></path><text y="10" font-family="Helvetica" font-size="10" font-weight="bold" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="7" transform="translate(69 85)">2</text><path fill="none" stroke="#000" stroke-dasharray="3,1" d="M95 56h21M155 56h12M44 91h12"></path><text y="6" font-family="Helvetica" font-size="6" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="5" transform="translate(52.6 113.5)">4</text><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="19" transform="translate(16 96)">in[4]</text><path fill="#fff" d="m36 87.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m36 87.6 6.8 3.4-6.8 3.4z"></path><text y="8" font-family="Helvetica" font-size="8" lengthAdjust="spacingAndGlyphs" style="white-space:pre" textLength="25" transform="translate(176 61)">out[4]</text><path fill="#fff" d="m167 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-width="2.2" d="m167 52.6 6.8 3.4-6.8 3.4z"></path><path fill="none" stroke="#000" stroke-linecap="square" stroke-width="2.2" d="M175 56h36v75H6V91h30"></path></g></svg><p>In the above program, four instance of <code>Node</code> are created, and, at startup, each instance sends 42 to its second (index 1) output channel. The result is that the second bank member (<code>bank_index</code> 1) will receive the number 42 on each input channel of its multiport input. Running this program gives something like the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 0 sent 42 on channel 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 1 sent 42 on channel 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 2 sent 42 on channel 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 3 sent 42 on channel 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 1 received 42 on channel 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 1 received 42 on channel 1.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 1 received 42 on channel 2.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bank index 1 received 42 on channel 3.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In bank index 1, the 0-th channel receives from <code>bank_index</code> 0, the 1-th channel from <code>bank_index</code> 1, etc. In effect, the choice of output channel specifies the destination reactor in the bank, and the input channel specifies the source reactor from which the input comes.</p><p>This style of connection is accomplished using the new keyword <code>interleaved</code> in the connection. Normally, a port reference such as <code>nodes.out</code> where <code>nodes</code> is a bank and <code>out</code> is a multiport, would list all the individual ports by first iterating over the banks and then, for each bank index, iterating over the ports. If we consider the tuple (b,p) to denote the index b within the bank and the index p within the multiport, then the following list is created: (0,0), (0,1), (0,2), (0,3), (1,0), (1,1), (1,2), (1,3), (2,0), (2,1), (2,2), (2,3), (3,0), (3,1), (3,2), (3,3). However, if we use <code>interleaved``(nodes.out)</code> instead, the connection logic will iterate over the ports first and then the banks, creating the following list: (0,0), (1,0), (2,0), (3,0), (0,1), (1,1), (2,1), (3,1), (0,2), (1,2), (2,2), (3,2), (0,3), (1,3), (2,3), (3,3). By combining a normal port reference with a interleaved reference, we can construct a fully connected network. The figure below visualizes this how this pattern would look without banks or multiports:</p><p><img decoding="async" loading="lazy" alt="Lingua Franca diagram: AddressableDesugared" src="../../../assets/images/AddressableDesugared-2bb8527257ab361bc04400e7b9373968.png" width="866" height="356" class="img_ev3q"></p><p>If we were to use a normal connection <code>nodes.out -&gt; nodes.in;</code> instead of the <code>interleaved</code> connection, then the following pattern would be created:</p><p><img decoding="async" loading="lazy" alt="Lingua Franca diagram: AddressableNaiveDesugared" src="../../../assets/images/AddressableNaiveDesugared-45b077b3d8090cac0351ae9b4bf44619.png" width="808" height="158" class="img_ev3q"></p><p>Effectively, this connects each reactor instance to itself, which isn&#x27;t very useful.</p></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><p>The <code>interleaved</code> keyword is not supported by this target language.</p></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><p>The <code>interleaved</code> keyword is not supported by this target language.</p></div></div>/code> keyword is not supported by this target language.</p></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lf-lang/lf-lang.github.io/tree/master/versioned_docs/version-0.11.0/writing-reactors/multiports-and-banks.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../deadlines/index.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deadlines</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../generics/index.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Generic Reactors</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#multiports" class="table-of-contents__link toc-highlight">Multiports</a></li><li><a href="#sparse-inputs" class="table-of-contents__link toc-highlight">Sparse Inputs</a></li><li><a href="#parameterized-widths" class="table-of-contents__link toc-highlight">Parameterized Widths</a></li><li><a href="#connecting-reactors-with-different-widths" class="table-of-contents__link toc-highlight">Connecting Reactors with Different Widths</a></li><li><a href="#banks-of-reactors" class="table-of-contents__link toc-highlight">Banks of Reactors</a></li><li><a href="#initializing-bank-members-from-a-table" class="table-of-contents__link toc-highlight">Initializing Bank Members from a Table</a></li><li><a href="#contained-banks" class="table-of-contents__link toc-highlight">Contained Banks</a></li><li><a href="#combining-banks-and-multiports" class="table-of-contents__link toc-highlight">Combining Banks and Multiports</a></li><li><a href="#broadcast-connections" class="table-of-contents__link toc-highlight">Broadcast Connections</a></li><li><a href="#interleaved-connections" class="table-of-contents__link toc-highlight">Interleaved Connections</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zulip.lf-lang.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../blog/index.html">Blog</a></li><li class="footer__item"><a href="https://github.com/lf-lang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 The Lingua Franca project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>