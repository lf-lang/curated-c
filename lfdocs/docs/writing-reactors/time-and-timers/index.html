<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.11.0 docs-doc-page docs-doc-id-writing-reactors/time-and-timers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Time and Timers | Lingua Franca</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.lf-lang.org/img/lf-social-card.png"><meta data-rh="true" property="og:url" content="https://www.lf-lang.org/docs/writing-reactors/time-and-timers/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="0.11.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" name="docsearch:version" content="0.11.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.11.0"><meta data-rh="true" property="og:title" content="Time and Timers | Lingua Franca"><meta data-rh="true" name="description" content="Time and timers in Lingua Franca."><meta data-rh="true" property="og:description" content="Time and timers in Lingua Franca."><link data-rh="true" rel="icon" href="../../../img/favicon.png"><link data-rh="true" rel="canonical" href="https://www.lf-lang.org/docs/writing-reactors/time-and-timers/"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/time-and-timers/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.lf-lang.org/docs/writing-reactors/time-and-timers/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://U5IWIJW31Z-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="../../../blog/rss.xml" title="Lingua Franca RSS Feed">
<link rel="alternate" type="application/atom+xml" href="../../../blog/atom.xml" title="Lingua Franca Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Lingua Franca" href="../../../opensearch.xml"><link rel="stylesheet" href="../../../assets/css/styles.ba30d6af.css">
<script src="../../../assets/js/runtime~main.cb523eb3.js" defer="defer"></script>
<script src="../../../assets/js/main.0ff8ee1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img src="../../../img/lf-forlight.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="../../../img/lf-fordark.svg" alt="The Lingua Franca Logo" class="lf-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="../../index.html">Handbook</a><a class="navbar__item navbar__link" href="../../../blog/index.html">Blog</a><a class="navbar__item navbar__link" href="../../../research/index.html">Research</a><a class="navbar__item navbar__link" href="../../../community/index.html">Community</a><a class="navbar__item navbar__link" href="../../../events/index.html">Events</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="index.html">0.11.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="../../next/writing-reactors/time-and-timers/index.html">Nightly ðŸš§</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="index.html">0.11.0</a></li><li><a class="dropdown__link" href="../../0.10.0/writing-reactors/time-and-timers/index.html">0.10.0</a></li><li><a class="dropdown__link" href="../../0.9.0/writing-reactors/time-and-timers/index.html">0.9.0</a></li><li><a class="dropdown__link" href="../../0.8.0/writing-reactors/time-and-timers/index.html">0.8.0</a></li><li><a class="dropdown__link" href="../../0.7.0/writing-reactors/time-and-timers/index.html">0.7.0</a></li><li><a class="dropdown__link" href="../../0.6.0/writing-reactors/time-and-timers/index.html">0.6.0</a></li><li><a class="dropdown__link" href="../../0.5.0/writing-reactors/time-and-timers/index.html">0.5.0</a></li></ul></div><a href="https://github.com/lf-lang/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../index.html">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../installation/index.html">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../videos/index.html">Videos</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="../a-first-reactor/index.html">Writing Reactors</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../a-first-reactor/index.html">A First Reactor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../inputs-and-outputs/index.html">Inputs and Outputs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../parameters-and-state-variables/index.html">Parameters and State Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="index.html">Time and Timers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../composing-reactors/index.html">Composing Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reactions/index.html">Reactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../reaction-declarations/index.html">Reaction Declarations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../methods/index.html">Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../causality-loops/index.html">Causality Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../extending-reactors/index.html">Extending Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../actions/index.html">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../superdense-time/index.html">Superdense Time</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../modal-models/index.html">Modal Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../deadlines/index.html">Deadlines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../multiports-and-banks/index.html">Multiports and Banks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../generics/index.html">Generic Reactors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../preambles/index.html">Preambles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../distributed-execution/index.html">Distributed Execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="../termination/index.html">Termination</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../tools/code-extension/index.html">Tools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../reference/docker-support/index.html">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../embedded/arduino/index.html">Embedded Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="../../developer/contributing/index.html">Developer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../glossary/index.html">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Writing Reactors</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Time and Timers</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.11.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Time and Timers</h1></header><p>This article has examples in the following target languages:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rust</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">TypeScript</li></ul><div class="margin-top--md"></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="logical-time">Logical Time<a href="#logical-time" class="hash-link" aria-label="Direct link to Logical Time" title="Direct link to Logical Time">â€‹</a></h2>
<p>A key property of Lingua Franca is <strong>logical time</strong>. All events occur at an instant in logical time. By default, the runtime system does its best to align logical time with <strong>physical time</strong>, which is some measurement of time on the execution platform. The <strong>lag</strong> is defined to be physical time minus logical time, and the goal of the runtime system is maintain a small non-negative lag.</p>
<p>The <strong>lag</strong> is allowed to go negative only if the <a href="/docs/reference/target-declaration/#fast"><code>fast</code></a> target property or the <a href="/docs/reference/target-declaration/#command-line-arguments"><code>--fast</code></a> command-line argument is set to <code>true</code>. In that case, the program will execute as fast as possible with no regard to physical time.</p>
<div><p>In Lingua Franca, <code>time</code> is a data type.
A parameter, state variable, port, or action may have type <code>time</code>.</p><div><p>In the C target, time values internally have type <code>instant_t</code> or <code>interval_t</code>,
both of which are (usually) equivalent to the C type <code>long long</code>.</p></div><div class="hidden_PYVj"><p>In the C++ target, time values internally have the type <code>std::chrono::nanoseconds</code>. For details, see the <a href="../../reference/target-language-details/index.html">Target Language Details</a>.</p></div><div class="hidden_PYVj"><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>In the Rust target, time values internally have type FIXME.</p></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="time-values">Time Values<a href="#time-values" class="hash-link" aria-label="Direct link to Time Values" title="Direct link to Time Values">â€‹</a></h2>
<p>A time value is given with units (unless the value is 0, in which case the units can be omitted).
The allowable units are:</p>
<ul>
<li>For nanoseconds: <code>ns</code>, <code>nsec</code>, or <code>nsecs</code></li>
<li>For microseconds: <code>us</code>, <code>usec</code>, or <code>usecs</code></li>
<li>For milliseconds: <code>ms</code>, <code>msec</code>, or <code>msecs</code></li>
<li>For seconds: <code>s</code>, <code>sec</code>, <code>secs</code>, <code>second</code>, or <code>seconds</code></li>
<li>For minutes: <code>min</code>, <code>minute</code>, <code>mins</code>, or <code>minutes</code></li>
<li>For hours: <code>h</code>, <code>hour</code>, or <code>hours</code></li>
<li>For days: <code>d</code>, <code>day</code>, or <code>days</code></li>
<li>For weeks: <code>week</code> or <code>weeks</code></li>
</ul>
<p>The following example illustrates using time values for parameters and state variables:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

main reactor SlowingClock(start: time = 100 ms, incr: time = 100 ms) {
  state interval: time = start
  logical action a

  reaction(startup) -&gt; a {=
    lf_schedule(a, self-&gt;start);
  =}

  reaction(a) -&gt; a {=
    instant_t elapsed_logical_time = lf_time_logical_elapsed();
    printf(&quot;Logical time since start: %lld nsec.\n&quot;,
        elapsed_logical_time
    );
    self-&gt;interval += self-&gt;incr;
    lf_schedule(a, self-&gt;interval);
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

main reactor SlowingClock(start: time(100 ms), incr: time(100 ms)) {
  state interval: time(start)
  logical action a

  reaction(startup) -&gt; a {=
    a.schedule(start);
  =}

  reaction(a) -&gt; a {=
    auto elapsed_logical_time = get_elapsed_logical_time();
    std::cout &lt;&lt; &quot;Logical time since start: &quot; &lt;&lt; elapsed_logical_time &lt;&lt; &quot; nsec&quot; &lt;&lt; std::endl;
    interval += incr;
    a.schedule(interval);
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

main reactor SlowingClock(start = 100 ms, incr = 100 ms) {
  state interval = start
  logical action a

  reaction(startup) -&gt; a {=
    a.schedule(self.start)
  =}

  reaction(a) -&gt; a {=
    elapsed_logical_time = lf.time.logical_elapsed()
    print(
        f&quot;Logical time since start: {elapsed_logical_time} nsec.&quot;
    )
    self.interval += self.incr
    a.schedule(self.interval)
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

main reactor SlowingClock(start: time = 100 ms, incr: time = 100 ms) {
  state start = start
  state incr = incr
  state interval: time = start
  state expected_time: time
  logical action a

  reaction(startup) -&gt; a {=
    ctx.schedule(a, After(self.start));
  =}

  reaction(a) -&gt; a {=
    println!(
        &quot;Logical time since start: {} nsec.&quot;,
        ctx.get_elapsed_logical_time().as_nanos(),
    );
    self.interval += self.incr;
    ctx.schedule(a, After(self.interval));
    self.expected_time += self.interval;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

main reactor SlowingClock(start: time = 100 ms, incr: time = 100 ms) {
  state interval: time = start
  logical action a

  reaction(startup) -&gt; a {=
    actions.a.schedule(start, null);
  =}

  reaction(a) -&gt; a {=
    console.log(`Logical time since start: ${util.getElapsedLogicalTime()}`)
    interval = interval.add(incr)
    actions.a.schedule(interval, null)
  =}
}
</code></pre></div></div></div>
<p>This has two time parameters, <code>start</code> and <code>incr</code>, each with default value <code>100 ms</code> <span>and type <code>time</code></span>. This parameter is used to initialize the <code>interval</code> state variable, which also stores a time. The <code>logical</code> <code>action</code> <code>a</code>, explained in <a href="/docs/writing-reactors/actions/#logical-actions">Actions</a>, is used to schedule events to occur at time <code>start</code> after program startup and then at intervals that are increased each time by <code>incr</code>. The result of executing this program will look like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Logical time since start: 100000000 nsec.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logical time since start: 300000000 nsec.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logical time since start: 600000000 nsec.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logical time since start: 1000000000 nsec.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timers">Timers<a href="#timers" class="hash-link" aria-label="Direct link to Timers" title="Direct link to Timers">â€‹</a></h2>
<p>The simplest use of logical time in Lingua Franca is to invoke a reaction periodically. This is done by first declaring a <code>timer</code> using this syntax:</p>
<pre class="shiki"><code>  timer &lt;name&gt;(&lt;offset&gt;, &lt;period&gt;)
</code></pre>
<p>The <code>&lt;period&gt;</code>, which is optional, specifies the time interval between timer events. The <code>&lt;offset&gt;</code>, which is also optional, specifies the (logical) time interval between when the program starts executing and the first timer event. If no period is given, then the timer event occurs only once. If neither an offset nor a period is specified, then one timer event occurs at program start, simultaneous with the <code>startup</code> event.</p>
<p>The period and offset are given by a number and a units, for example, <code>10 ms</code>. See the <a href="/docs/reference/expressions/#basic-expressions">expressions documentation</a> for allowable units. Consider the following example:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

main reactor Timer {
  timer t(0, 1 sec)

  reaction(t) {=
    printf(&quot;Logical time is %lld.\n&quot;, lf_time_logical());
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

main reactor Timer {
  timer t(0, 1 s)

  reaction(t) {=
    std::cout &lt;&lt; &quot;Logical time is: &quot; &lt;&lt; get_logical_time() &lt;&lt; std::endl;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

main reactor Timer {
  timer t(0, 1 sec)

  reaction(t) {=
    print(f&quot;Logical time is {lf.time.logical()}.&quot;)
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

main reactor Timer {
  timer t(0, 1 sec)

  reaction(t) {=
    println!(
        &quot;Logical time is {}.&quot;,
        ctx.get_elapsed_logical_time().as_nanos(),
    );
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

main reactor Timer {
  timer t(0, 1 sec)

  reaction(t) {=
    console.log(`Logical time is ${util.getCurrentLogicalTime()}.`)
  =}
}
</code></pre></div></div></div>
<p>This specifies a timer named <code>t</code> that will first trigger at the start of execution and then repeatedly trigger at intervals of one second. Notice that the time units can be left off if the value is zero.</p>
<p>This target provides a built-in function for retrieving the logical time at which the reaction is invoked,
<span><code>lf_time_logical()</code></span>
<span class="hidden_PYVj"><code>get_logical_time()</code></span>
<span class="hidden_PYVj"><code>lf.time.logical()</code></span>
<span class="hidden_PYVj"><code>util.getCurrentLogicalTime()</code></span>
<span class="hidden_PYVj"><code>get_logical_time()</code></span></p>
<p>On most platforms (with the exception of some embedded platforms), the returned value is a 64-bit number representing the number of nanoseconds that have elapsed since January 1, 1970. Executing the above displays something like the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Logical time is 1648402121312985000.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logical time is 1648402122312985000.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logical time is 1648402123312985000.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output lines appear at one second intervals unless the <code>fast</code> option has been specified.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="elapsed-time">Elapsed Time<a href="#elapsed-time" class="hash-link" aria-label="Direct link to Elapsed Time" title="Direct link to Elapsed Time">â€‹</a></h2>
<p>The times above are a bit hard to read, so, for convenience, each target provides a built-in function to retrieve the <em>elapsed</em> time. For example:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

main reactor TimeElapsed {
  timer t(0, 1 s)

  reaction(t) {=
    printf(
        &quot;Elapsed logical time is %lld.\n&quot;,
        lf_time_logical_elapsed()
    );
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

main reactor TimeElapsed {
  timer t(0, 1 s)

  reaction(t) {=
    std::cout &lt;&lt; &quot;Elapsed logical time is &quot; &lt;&lt; get_elapsed_logical_time() &lt;&lt; std::endl;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

main reactor TimeElapsed {
  timer t(0, 1 s)

  reaction(t) {=
    print(
        f&quot;Elapsed logical time is {lf.time.logical_elapsed()}.&quot;
    )
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

main reactor TimeElapsed {
  timer t(0, 1 s)

  reaction(t) {=
    println!(
        &quot;Elapsed logical time is {}.&quot;,
        ctx.get_elapsed_logical_time().as_nanos(),
    );
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

main reactor TimeElapsed {
  timer t(0, 1 s)

  reaction(t) {=
    console.log(`Elapsed logical time is ${util.getElapsedLogicalTime()}`)
  =}
}
</code></pre></div></div></div>
<p>See the <a href="../../reference/target-language-details/index.html">Target Language Details</a> for the full set of functions provided for accessing time values.</p>
<p>Executing this program will produce something like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time is 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time is 1000000000.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time is 2000000000.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparing-logical-and-physical-times">Comparing Logical and Physical Times<a href="#comparing-logical-and-physical-times" class="hash-link" aria-label="Direct link to Comparing Logical and Physical Times" title="Direct link to Comparing Logical and Physical Times">â€‹</a></h2>
<p>The following program compares logical and physical times:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

main reactor TimeLag {
  timer t(0, 1 s)

  reaction(t) {=
    interval_t t = lf_time_logical_elapsed();
    interval_t T = lf_time_physical_elapsed();
    printf(
        &quot;Elapsed logical time: %lld, physical time: %lld, lag: %lld\n&quot;,
        t, T, T-t
    );
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

main reactor TimeLag {
  timer t(0, 1 s)

  reaction(t) {=
    auto logical_time = get_elapsed_logical_time();
    auto physical_time = get_elapsed_physical_time();
    std::cout &lt;&lt; &quot;Elapsed logical time: &quot; &lt;&lt; logical_time
        &lt;&lt; &quot; physical time: &quot; &lt;&lt; physical_time
        &lt;&lt; &quot; lag: &quot; &lt;&lt; physical_time - logical_time &lt;&lt;  std::endl;
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

main reactor TimeLag {
  timer t(0, 1 s)

  reaction(t) {=
    t = lf.time.logical_elapsed()
    T = lf.time.physical_elapsed()
    print(
        f&quot;Elapsed logical time: {t}, physical time: {T}, lag: {T-t}&quot;
    )
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

main reactor TimeLag {
  timer t(0, 1 s)

  reaction(t) {=
    let t = ctx.get_elapsed_logical_time();
    let T = ctx.get_elapsed_physical_time();
    println!(
      &quot;Elapsed logical time: {}, physical time: {}, lag: {}&quot;,
      t.as_nanos(),
      T.as_nanos(),
      (T-t).as_nanos(),
    );
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

main reactor TimeLag {
  timer t(0, 1 s)

  reaction(t) {=
    const t = util.getElapsedLogicalTime()
    const T = util.getElapsedPhysicalTime()
    console.log(`Elapsed logical time: ${t}, physical time: ${T}, lag: ${T.subtract(t)}`)
  =}
}
</code></pre></div></div></div>
<p>Execution will show something like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time: 0, physical time: 855000, lag: 855000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time: 1000000000, physical time: 1004714000, lag: 4714000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time: 2000000000, physical time: 2004663000, lag: 4663000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Elapsed logical time: 3000000000, physical time: 3000210000, lag: 210000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this case, the lag varies from a few hundred microseconds to a small number of milliseconds. The amount of lag will depend on the execution platform.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="simultaneity-and-instantaneity">Simultaneity and Instantaneity<a href="#simultaneity-and-instantaneity" class="hash-link" aria-label="Direct link to Simultaneity and Instantaneity" title="Direct link to Simultaneity and Instantaneity">â€‹</a></h2>
<p>If two timers have the same <em>offset</em> and <em>period</em>, then their events are logically simultaneous. No observer will be able to see that one timer has triggered and the other has not.</p>
<p>A reaction is always invoked at a well-defined logical time, and logical time does not advance during its execution. Any output produced by the reaction will be <strong>logically simultaneous</strong> with the input. In other words, reactions are <strong>logically instantaneous</strong> (for an exception, see Logical Execution Time (FIXME: the original link is a FIXME)). Physical time, however, does elapse during execution of a reaction.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="timeout">Timeout<a href="#timeout" class="hash-link" aria-label="Direct link to Timeout" title="Direct link to Timeout">â€‹</a></h2>
<p>By default, a Lingua Franca program will terminate when there are no more events to process. If there is a timer with a non-zero period, then there will always be more events to process, so the default execution will be unbounded. To specify a finite execution horizon, you can either specify a <a href="/docs/reference/target-declaration/#timeout"><code>timeout</code> target property</a> or a <a href="/docs/reference/target-declaration/#command-line-arguments"><code>--timeout</code> command-line option</a>. For example, the following <code>timeout</code> property will cause the above timer with a period of one second to terminate after 11 events:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C {
timeout: 10 s
}</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp {
timeout: 10 s
}</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python {
timeout: 10 s
}</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript {
timeout: 10 s
}</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust {
timeout: 10 s
}</code></pre></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="startup-and-shutdown">Startup and Shutdown<a href="#startup-and-shutdown" class="hash-link" aria-label="Direct link to Startup and Shutdown" title="Direct link to Startup and Shutdown">â€‹</a></h2>
<p>To cause a reaction to be invoked at the start of execution, a special <strong>startup</strong> trigger is provided:</p>
<pre class="shiki"><code>reactor Foo {
  reaction(startup) {=
    ... perform initialization ...
  =}
}
</code></pre>
<p>The <strong>startup</strong> trigger is equivalent to a timer with no <em>offset</em> or <em>period</em>.</p>
<p>To cause a reaction to be invoked at the end of execution, a special <strong>shutdown</strong> trigger is provided. Consider the following reactor, commonly used to build regression tests:</p>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP hidden_PYVj tabs__item--active">c</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">cpp</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">py</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">rs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP hidden_PYVj">ts</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><pre class="shiki"><code>target C

reactor TestCount(start: int = 0, stride: int = 1, num_inputs: int = 1) {
  state count: int = start
  state inputs_received: int = 0
  input x: int

  reaction(x) {=
    printf(&quot;Received %d.\n&quot;, x-&gt;value);
    if (x-&gt;value != self-&gt;count) {
      printf(&quot;ERROR: Expected %d.\n&quot;, self-&gt;count);
      exit(1);
    }
    self-&gt;count += self-&gt;stride;
    self-&gt;inputs_received++;
  =}

  reaction(shutdown) {=
    printf(&quot;Shutdown invoked.\n&quot;);
    if (self-&gt;inputs_received != self-&gt;num_inputs) {
      printf(&quot;ERROR: Expected to receive %d inputs, but got %d.\n&quot;,
          self-&gt;num_inputs,
          self-&gt;inputs_received
      );
      exit(2);
    }
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Cpp

reactor TestCount(start: int = 0, stride: int = 1, num_inputs: int = 1) {
  state count: int = start
  state inputs_received: int = 0
  input x: int

  reaction(x) {=
    auto value = *x.get();
    std::cout &lt;&lt; &quot;Received &quot; &lt;&lt;  value &lt;&lt; std::endl;
    if (value != count) {
      std::cerr &lt;&lt; &quot;ERROR: Expected: &quot;&lt;&lt; count &lt;&lt; std::endl;
      exit(1);
    }
    count += stride;
    inputs_received++;
  =}

  reaction(shutdown) {=
    std::cout &lt;&lt; &quot;Shutdown invoked.&quot; &lt;&lt; std::endl;
    if (inputs_received != num_inputs) {
      std::cerr &lt;&lt; &quot;ERROR: Expected to receive &quot; &lt;&lt; num_inputs
          &lt;&lt; &quot; inputs, but got &quot; &lt;&lt; inputs_received &lt;&lt; std::endl;
      exit(2);
    }
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Python

reactor TestCount(start=0, stride=1, num_inputs=1) {
  state count = start
  state inputs_received = 0
  input x

  reaction(x) {=
    print(f&quot;Received {x.value}.&quot;)
    if x.value != self.count:
      sys.stderr.write(f&quot;ERROR: Expected {self.count}.\n&quot;)
      exit(1)
    self.count += self.stride
    self.inputs_received += 1
  =}

  reaction(shutdown) {=
    print(&quot;Shutdown invoked.&quot;)
    if self.inputs_received != self.num_inputs:
      sys.stderr.write(
          f&quot;ERROR: Expected to receive {self.num_inputs} inputs, but got {self.inputs_received}.\n&quot;
      )
      exit(2)
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target Rust

reactor TestCount(start: u32 = 0, stride: u32 = 1, num_inputs: u32 = 1) {
  state stride = stride
  state num_inputs = num_inputs
  state count: u32 = start
  state inputs_received: u32 = 0
  input x: u32

  reaction(x) {=
    let x = ctx.get(x).unwrap();
    println!(&quot;Received {}.&quot;, x);
    if x != self.count {
      println!(&quot;ERROR: Expected {}.&quot;, self.count);
      std::process::exit(1);
    }
    self.count += self.stride;
    self.inputs_received += 1;
  =}

  reaction(shutdown) {=
    println!(&quot;Shutdown invoked.&quot;);
    if self.inputs_received != self.num_inputs {
      println!(
          &quot;ERROR: Expected to receive {} inputs, but got {}.&quot;,
          self.num_inputs,
          self.inputs_received
      );
      std::process::exit(2);
    }
  =}
}
</code></pre></div><div role="tabpanel" class="tabItem_Ymn6" style="display: none"><pre class="shiki"><code>target TypeScript

reactor TestCount(start: number = 0, stride: number = 1, numInputs: number = 1) {
  state count: number = start
  state inputsReceived: number = 0
  input x: number

  reaction(x) {=
    console.log(`Received ${x}`)
    if (x != count) {
      console.error(`ERROR: Expected ${count}.`)
      process.exit(1)
    }
    count += stride;
    inputsReceived++
  =}

  reaction(shutdown) {=
    console.log(&quot;Shutdown invoked.&quot;)
    if (inputsReceived != numInputs) {
      console.error(`ERROR: Expected to receive ${numInputs}, but got ${inputsReceived}.`)
      process.exit(2)
    }
  =}
}
</code></pre></div></div></div>
<p>This reactor tests its inputs against expected values, which are expected to start with the value given by the <code>start</code> parameter and increase by <code>stride</code> with each successive input. It expects to receive a total of <code>num_inputs</code> input events. It checks the total number of inputs received in its <code>shutdown</code> reaction.</p>
<p>The <strong>shutdown</strong> trigger typically occurs at <a href="../superdense-time/index.html">microstep</a> 0, but may occur at a larger microstep. See <a href="../superdense-time/index.html">Superdense Time</a> and <a href="../termination/index.html">Termination</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lf-lang/lf-lang.github.io/tree/master/versioned_docs/version-0.11.0/writing-reactors/time-and-timers.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="../parameters-and-state-variables/index.html"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Parameters and State Variables</div></a><a class="pagination-nav__link pagination-nav__link--next" href="../composing-reactors/index.html"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Composing Reactors</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#logical-time" class="table-of-contents__link toc-highlight">Logical Time</a></li><li><a href="#time-values" class="table-of-contents__link toc-highlight">Time Values</a></li><li><a href="#timers" class="table-of-contents__link toc-highlight">Timers</a></li><li><a href="#elapsed-time" class="table-of-contents__link toc-highlight">Elapsed Time</a></li><li><a href="#comparing-logical-and-physical-times" class="table-of-contents__link toc-highlight">Comparing Logical and Physical Times</a></li><li><a href="#simultaneity-and-instantaneity" class="table-of-contents__link toc-highlight">Simultaneity and Instantaneity</a></li><li><a href="#timeout" class="table-of-contents__link toc-highlight">Timeout</a></li><li><a href="#startup-and-shutdown" class="table-of-contents__link toc-highlight">Startup and Shutdown</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zulip.lf-lang.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zulip<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../blog/index.html">Blog</a></li><li class="footer__item"><a href="https://github.com/lf-lang" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 The Lingua Franca project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>